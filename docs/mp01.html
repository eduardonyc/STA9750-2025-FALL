<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.23">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Eduardo Alarcon">

<title>STA 9750 Mini-Project #01: Netflix Analysis – STA 9750 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-1fe81d0376b2c50856e68e651e390326.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-eca17b5da0ebcb32698e5dfc46a04a8c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.34.0/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>


</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Submission Material</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./mp01.html" aria-current="page"> 
<span class="menu-text">Mini-Project 1</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">STA 9750 Mini-Project #01: Netflix Analysis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Eduardo Alarcon </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="task-4" class="level2">
<h2 class="anchored" data-anchor-id="task-4">Task 4</h2>
<p>The following questions address Task 4. Please click on the “Show Code” for an detailed approach on how I obtained my results.</p>
<p><br></p>
<ol type="1">
<li>How many different countries does Netflix operate in? (You can use the viewing history as a proxy for countries in which Netflix operates.)</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">n_distinct</span>(COUNTRY_TOP_10<span class="sc">$</span>country_name)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p><strong>Answer:</strong> Netflix operates in <code>94</code> different countries based on the viewing history data.</p>
<p><br></p>
<ol start="2" type="1">
<li>Which non-English-language film has spent the most cumulative weeks in the global top 10? How many weeks did it spend?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>Q2_RESULT <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(category <span class="sc">==</span> <span class="st">"Films (Non-English)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(show_title) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="st">`</span><span class="at">Maximum Cumulative Weeks</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">max</span>(cumulative_weeks_in_top_10, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Maximum Cumulative Weeks</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>film_name_2 <span class="ot">&lt;-</span> Q2_RESULT<span class="sc">$</span>show_title</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>weeks_count_2 <span class="ot">&lt;-</span> Q2_RESULT[[<span class="dv">2</span>]]</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>Q2_RESULT <span class="sc">%&gt;%</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="fu">format_titles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-49a0914d28b88c4617e9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-49a0914d28b88c4617e9">{"x":{"filter":"none","vertical":false,"data":[["1"],["All Quiet on the Western Front"],[23]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Show Title<\/th>\n      <th>Maximum Cumulative Weeks<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Show Title","targets":1},{"name":"Maximum Cumulative Weeks","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p><strong>Answer:</strong> The non-English-language film All Quiet on the Western Front spent the most cumulative weeks in the Global Top 10, with 23 weeks.</p>
<p><br></p>
<ol start="3" type="1">
<li>What is the longest film (English or non-English) to have ever appeared in the Netflix global Top 10? How long is it in minutes?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>Q3_RESULT <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Films (Non-English)"</span>, <span class="st">"Films (English)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(runtime)) <span class="sc">%&gt;%</span>   </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(show_title) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">max_runtime =</span> <span class="fu">max</span>(runtime)) <span class="sc">%&gt;%</span>   </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(max_runtime)) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">max_runtime_minutes =</span> <span class="fu">round</span>(<span class="dv">60</span> <span class="sc">*</span> max_runtime))</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>film_name_3 <span class="ot">&lt;-</span> Q3_RESULT<span class="sc">$</span>show_title</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>run_time_3 <span class="ot">&lt;-</span> Q3_RESULT[[<span class="dv">3</span>]]</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>Q3_RESULT <span class="sc">%&gt;%</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="sc">-</span>max_runtime) <span class="sc">%&gt;%</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="fu">format_titles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a21c632ba28ac62e162c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a21c632ba28ac62e162c">{"x":{"filter":"none","vertical":false,"data":[["1"],["Pushpa 2: The Rule (Reloaded Version)"],[224]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Show Title<\/th>\n      <th>Max Runtime Minutes<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Show Title","targets":1},{"name":"Max Runtime Minutes","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p><strong>Answer:</strong> The longest English or non-English film to have ever topped in the Netflix Global Top 10 is Pushpa 2: The Rule (Reloaded Version), with a length of 224 minutes.</p>
<p><br></p>
<ol start="4" type="1">
<li>For each of the four categories, what program has the most total hours of global viewership?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>Q4_RESULT <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(category, show_title) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">total_hours_global_viewership =</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(category) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">slice_max</span>(total_hours_global_viewership, <span class="at">n =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(total_hours_global_viewership)) <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">total_hours_global_viewership =</span> <span class="fu">comma</span>(total_hours_global_viewership))</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>Q4_RESULT <span class="sc">%&gt;%</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu">format_titles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-1e10aa6a683ca3195ba4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1e10aa6a683ca3195ba4">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["TV (Non-English)","TV (English)","Films (English)","Films (Non-English)"],["Squid Game","Stranger Things","KPop Demon Hunters","Society of the Snow"],["5,048,300,000","2,967,980,000","559,100,000","235,900,000"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Category<\/th>\n      <th>Show Title<\/th>\n      <th>Total Hours Global Viewership<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Category","targets":1},{"name":"Show Title","targets":2},{"name":"Total Hours Global Viewership","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p><strong>Answer:</strong> The above table highlights calculations that sum all seasons together (i.e.,franchise-level data). In other words, Stranger Things and Squid Game reflect the combined global viewership across all of their respective seasons.</p>
<p><br></p>
<ol start="5" type="1">
<li>Which TV show had the longest run in a country’s Top 10? How long was this run and in what country did it occur?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>Q5_RESULT <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(category <span class="sc">==</span> <span class="st">"TV"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(season_title)) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(country_name, show_title) <span class="sc">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">max_cumulative_weeks =</span> <span class="fu">max</span>(cumulative_weeks_in_top_10), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(max_cumulative_weeks)) <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>Q5_RESULT <span class="sc">%&gt;%</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="fu">format_titles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a2121962fcfcb4547935" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a2121962fcfcb4547935">{"x":{"filter":"none","vertical":false,"data":[["1"],["Pakistan"],["Money Heist"],[127]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Country Name<\/th>\n      <th>Show Title<\/th>\n      <th>Max Cumulative Weeks<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Country Name","targets":1},{"name":"Show Title","targets":2},{"name":"Max Cumulative Weeks","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p><strong>Answer:</strong> Money Heist had the longest run in Pakistan, with 127 weeks in Netflix’s Country Top 10 list.</p>
<p><br></p>
<ol start="6" type="1">
<li>Netflix provides over 200 weeks of service history for all but one country in our data set. Which country is this and when did Netflix cease operations in that country?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Q6_RESULT <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(country_name) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">total_weeks_of_data =</span> <span class="fu">n_distinct</span>(week),<span class="at">final_week =</span> <span class="fu">max</span>(week, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(total_weeks_of_data <span class="sc">&lt;</span> <span class="dv">200</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(total_weeks_of_data)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>Q6_RESULT <span class="sc">%&gt;%</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">format_titles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-cb77505951614e3be161" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-cb77505951614e3be161">{"x":{"filter":"none","vertical":false,"data":[["1"],["Russia"],[35],["2022-02-27"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Country Name<\/th>\n      <th>Total Weeks Of Data<\/th>\n      <th>Final Week<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Country Name","targets":1},{"name":"Total Weeks Of Data","targets":2},{"name":"Final Week","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p><strong>Answer:</strong> Netflix could not provide over 200 weeks of service for Russia, as it ceased operations during the week of February 27, 2022, resulting in 35 weeks of data in the Country Top 10 list.</p>
<p><br></p>
<ol start="7" type="1">
<li>What is the total viewership of the TV show Squid Game? Note that there are three seasons total and we are looking for the total number of hours watched across all seasons.</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>Q7_RESULT_SEASONS <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(show_title <span class="sc">==</span> <span class="st">"Squid Game"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(season_title)) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(season_title) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">sum_hours =</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">hours_watched =</span> <span class="fu">comma</span>(sum_hours))</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>Q7_RESULT_SEASONS_SUM <span class="ot">&lt;-</span> Q7_RESULT_SEASONS <span class="sc">%&gt;%</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="at">season_title =</span> <span class="st">"Total Hours Watched Across All Seasons"</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="at">sum_hours_1 =</span> <span class="fu">sum</span>(sum_hours),</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="at">hours_watched =</span> <span class="fu">comma</span>(sum_hours_1))</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>Q7_RESULT_FINAL <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(Q7_RESULT_SEASONS, Q7_RESULT_SEASONS_SUM) <span class="sc">%&gt;%</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(season_title, hours_watched)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>Q7_RESULT_FINAL <span class="sc">%&gt;%</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="fu">format_titles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-4802fdc813e6ee3e2edb" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4802fdc813e6ee3e2edb">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["Squid Game: Season 1","Squid Game: Season 2","Squid Game: Season 3","Total Hours Watched Across All Seasons"],["2,729,400,000","1,445,500,000","873,400,000","5,048,300,000"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Season Title<\/th>\n      <th>Hours Watched<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Season Title","targets":1},{"name":"Hours Watched","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p><strong>Answer:</strong> Across all three seasons, Squid Game had a total of 5,048,300,000 hours of global viewership.</p>
<p><br></p>
<ol start="8" type="1">
<li>The movie Red Notice has a runtime of 1 hour and 58 minutes. Approximately how many views did it receive in 2021?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>Q8_ROWS <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">week =</span> <span class="fu">as.Date</span>(week)) <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(show_title <span class="sc">==</span> <span class="st">"Red Notice"</span>, <span class="fu">year</span>(week) <span class="sc">==</span> <span class="dv">2021</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">nrow</span>(Q8_ROWS) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  Q8_RESULT <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Hours Viewed (2021)</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"N/A"</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Approximate Views</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"N/A"</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>Q8_RESULT <span class="ot">&lt;-</span> Q8_ROWS <span class="sc">%&gt;%</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="at">total_hours_2021 =</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="at">runtime_hours =</span> <span class="dv">1</span> <span class="sc">+</span> <span class="dv">58</span><span class="sc">/</span><span class="dv">60</span>,  <span class="co"># 1h 58m</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="at">approximate_views =</span> total_hours_2021 <span class="sc">/</span> runtime_hours) <span class="sc">%&gt;%</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="st">`</span><span class="at">Total Hours Viewed (2021)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">comma</span>(total_hours_2021), <span class="st">`</span><span class="at">Approximate Views</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">comma</span>(<span class="fu">round</span>(approximate_views))) <span class="sc">%&gt;%</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="st">`</span><span class="at">Total Hours Viewed (2021)</span><span class="st">`</span>, <span class="st">`</span><span class="at">Approximate Views</span><span class="st">`</span>)</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>Q8_RESULT <span class="sc">%&gt;%</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>( <span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>,</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a><span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-78e8d6cc1e28449e454e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-78e8d6cc1e28449e454e">{"x":{"filter":"none","vertical":false,"data":[["1"],["396,740,000"],["201,732,203"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Total Hours Viewed (2021)<\/th>\n      <th>Approximate Views<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Total Hours Viewed (2021)","targets":1},{"name":"Approximate Views","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p><strong>Answer:</strong> Based on the total number of hours viewed in 2021, Red Notice has approximately, 201,732,203 global views.</p>
<p><br></p>
<ol start="9" type="1">
<li>Part A: How many Films reached Number 1 in the US but did not originally debut there?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>COUNTRY_TOP_10_US_ONLY <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country_iso2 <span class="sc">==</span> <span class="st">"US"</span>, category <span class="sc">==</span> <span class="st">"Films"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">week =</span> <span class="fu">as.Date</span>(week))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>US_FILMS_REACH1 <span class="ot">&lt;-</span> COUNTRY_TOP_10_US_ONLY <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(show_title) <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">best_rank =</span> <span class="fu">min</span>(weekly_rank, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(best_rank <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>US_DEBUT <span class="ot">&lt;-</span> COUNTRY_TOP_10_US_ONLY <span class="sc">%&gt;%</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(show_title) <span class="sc">%&gt;%</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(week, <span class="at">.by_group =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span>    </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>L) <span class="sc">%&gt;%</span>                         </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(show_title, <span class="at">debut_week =</span> week, <span class="at">debut_rank =</span> weekly_rank)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>Q9_RESULT_PT1 <span class="ot">&lt;-</span> US_FILMS_REACH1 <span class="sc">%&gt;%</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(US_DEBUT, <span class="at">by =</span> <span class="st">"show_title"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(debut_rank <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">number_of_films =</span> <span class="fu">n</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p><br></p>
<p><strong>Answer:</strong> A total of <code>45</code> films in the US reached to Number 1 after debuting at a lower ranking.</p>
<p><br></p>
<ol start="9" type="1">
<li>Part B: What is the most recent film to pull this off?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>Q9_RESULT_PT2 <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(country_iso2 <span class="sc">==</span> <span class="st">"US"</span>, category <span class="sc">==</span> <span class="st">"Films"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">week =</span> <span class="fu">as.Date</span>(week)) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(show_title) <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="at">debut_week =</span> <span class="fu">min</span>(week),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="at">debut_rank =</span> weekly_rank[<span class="fu">which.min</span>(week)],</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="at">best_rank  =</span> <span class="fu">min</span>(weekly_rank, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(best_rank <span class="sc">==</span> <span class="dv">1</span>, debut_rank <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(country_iso2 <span class="sc">==</span> <span class="st">"US"</span>, category <span class="sc">==</span> <span class="st">"Films"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">week =</span> <span class="fu">as.Date</span>(week)) <span class="sc">%&gt;%</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(show_title, week, weekly_rank), <span class="at">by =</span> <span class="st">"show_title"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(weekly_rank <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="fu">slice_max</span>(<span class="at">order_by =</span> week, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="fu">transmute</span>(<span class="st">`</span><span class="at">Most Recent Film</span><span class="st">`</span> <span class="ot">=</span> show_title, <span class="st">`</span><span class="at">Date Reached #1</span><span class="st">`</span> <span class="ot">=</span> week)</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>Q9_RESULT_PT2 <span class="sc">%&gt;%</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-76534d3cb623abe321ef" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-76534d3cb623abe321ef">{"x":{"filter":"none","vertical":false,"data":[["1"],["KPop Demon Hunters"],["2025-09-14"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Most Recent Film<\/th>\n      <th>Date Reached #1<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Most Recent Film","targets":1},{"name":"Date Reached #1","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p><strong>Answer:</strong> The most recent film to accomplish this was KPop Demon Hunters, which reached Number 1 during the week of September 14, 2025.</p>
<p><br></p>
<ol start="10" type="1">
<li>Which TV show/season hit the top 10 in the most countries in its debut week? In how many countries did it chart?</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>COUNTRY_TOP_10_DEBUT <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(category <span class="sc">==</span> <span class="st">"TV"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(show_title, season_title, country_name) <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="at">debut_week =</span> <span class="fu">min</span>(week, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="at">debut_rank =</span> weekly_rank[<span class="fu">which.min</span>(week)][<span class="dv">1</span>],</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(debut_week)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>Q10_RESULT <span class="ot">&lt;-</span> COUNTRY_TOP_10_DEBUT <span class="sc">%&gt;%</span> </span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(show_title, season_title, debut_week) <span class="sc">%&gt;%</span> </span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">country_appearance =</span> <span class="fu">n_distinct</span>(country_name), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(country_appearance)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="fu">rename</span>(<span class="st">`</span><span class="at">Show Title</span><span class="st">`</span> <span class="ot">=</span> show_title, <span class="st">`</span><span class="at">Season Title</span><span class="st">`</span> <span class="ot">=</span> season_title, <span class="st">`</span><span class="at">Debut Week</span><span class="st">`</span> <span class="ot">=</span> debut_week, <span class="st">`</span><span class="at">Number of Countries Charted</span><span class="st">`</span> <span class="ot">=</span> country_appearance)</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>Q10_RESULT <span class="sc">%&gt;%</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7a037306de10c4f8efc0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7a037306de10c4f8efc0">{"x":{"filter":"none","vertical":false,"data":[["1"],["Emily in Paris"],["Emily in Paris: Season 2"],["2021-12-26"],[94]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Show Title<\/th>\n      <th>Season Title<\/th>\n      <th>Debut Week<\/th>\n      <th>Number of Countries Charted<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Show Title","targets":1},{"name":"Season Title","targets":2},{"name":"Debut Week","targets":3},{"name":"Number of Countries Charted","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p><strong>Answer:</strong> Emily in Paris (Season 2) charted in 94 countries during its debut week in December 26, 2021.</p>
<p><br></p>
</section>
<section id="task-5" class="level2">
<h2 class="anchored" data-anchor-id="task-5">Task 5:</h2>
</section>
<section id="press-release-1-the-perks-of-being-a-stranger" class="level2">
<h2 class="anchored" data-anchor-id="press-release-1-the-perks-of-being-a-stranger">Press Release 1: The Perks of Being a Stranger</h2>
<p>Netflix’s foray into original programming is yielding massive dividends, as unafraid viewers willingly spend their time (and money) alongside billions of “Strangers” year after year. For Netflix, this translates into viewership that has surpassed the billion mark. The Stranger Things series has garnered 2.5 billion viewers since its premiere in 2016. During its fourth season, it stayed a remarkable 19 weeks in Netflix’s Global Top 10 list, spending seven of those weeks resting comfortably at number one. Moreover, the series averaged about 13 weeks in the global top 10 across 93 countries, while Pakistan and Ukraine led the charge at 24 total weeks in the Global top 10.</p>
<p>Compared to other original Netflix titles, Stranger Things dominates in total global hours viewed at nearly 3 billion hours. One contender, Wednesday, has a solid stronghold in approximate viewership at close to 3.8 billion; however, Stranger Things still reigns supreme in total hours viewed, leaving other rivals, such as The Witcher, The Sandman, Locke &amp; Key, and Shadow and Bone, with dust in their viewers’ eyes.</p>
<p>With the upcoming release of its fifth and final season, Stranger Things is on a trajectory to continue shattering global records for Netflix. As a solid revenue machine, it is unlikely this season will mark the end of the series. As consummate content consumers, it’s highly probable that Netflix will continue to feed the insatiable appetite of its subscribers. If time has taught us anything, we should not be surprised to expect Netflix to conjure spinoffs, prequels, and movie adaptations of this series, as the last thing it would want, is for its subscribers to become strangers to the platform.</p>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper(s)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Robust season-number extraction:</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># - pulls any number from season_title</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># - defaults to 1 if none</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># - clamps to 1..4</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>extract_season_num <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">parse_number</span>(<span class="fu">coalesce</span>(x, <span class="st">""</span>))</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(n), <span class="dv">1</span>L, <span class="fu">as.integer</span>(n))</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pmin</span>(<span class="fu">pmax</span>(n, <span class="dv">1</span>L), <span class="dv">4</span>L)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Average episode minutes by season (edit if needed)</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>episode_minutes <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">season_num =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">*Average Episode Minutes</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">47</span>, <span class="dv">60</span>, <span class="dv">60</span>, <span class="dv">87</span>)</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalize seasons</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>COUNTRY_ST <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(show_title <span class="sc">==</span> <span class="st">"Stranger Things"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">season_num   =</span> <span class="fu">extract_season_num</span>(season_title),</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">season_label =</span> <span class="fu">paste0</span>(<span class="st">"Stranger Things: S"</span>, season_num)</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>GLOBAL_ST <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(show_title <span class="sc">==</span> <span class="st">"Stranger Things"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">season_num   =</span> <span class="fu">extract_season_num</span>(season_title),</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">season_label =</span> <span class="fu">paste0</span>(<span class="st">"Stranger Things: S"</span>, season_num)</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Season-level metrics</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a><span class="co"># From COUNTRY: Countries Reached, Country-Weeks</span></span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>ST_COUNTRIES_BY_SEASON <span class="ot">&lt;-</span> COUNTRY_ST <span class="sc">%&gt;%</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season_num, season_label, country_name) <span class="sc">%&gt;%</span></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weeks_in_top10 =</span> <span class="fu">n_distinct</span>(week), <span class="at">.groups =</span> <span class="st">"drop_last"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Countries Reached</span><span class="st">`</span>       <span class="ot">=</span> <span class="fu">n_distinct</span>(country_name),</span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Country-Weeks in Top 10</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(weeks_in_top10, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a><span class="co"># From GLOBAL: Global Weeks, Total Global Hours</span></span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>ST_GLOBAL_BY_SEASON <span class="ot">&lt;-</span> GLOBAL_ST <span class="sc">%&gt;%</span></span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season_num, season_label) <span class="sc">%&gt;%</span></span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Global Weeks in Top 10</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">n_distinct</span>(week),</span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Global Hours</span><span class="st">`</span>     <span class="ot">=</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-58"><a href="#cb13-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-59"><a href="#cb13-59" aria-hidden="true" tabindex="-1"></a><span class="co"># From GLOBAL: Global Weeks at #1</span></span>
<span id="cb13-60"><a href="#cb13-60" aria-hidden="true" tabindex="-1"></a>ST_GLOBAL_NUM1 <span class="ot">&lt;-</span> GLOBAL_ST <span class="sc">%&gt;%</span></span>
<span id="cb13-61"><a href="#cb13-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weekly_rank <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-62"><a href="#cb13-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season_num, season_label) <span class="sc">%&gt;%</span></span>
<span id="cb13-63"><a href="#cb13-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">Global Weeks at #1</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">n_distinct</span>(week), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb13-64"><a href="#cb13-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-65"><a href="#cb13-65" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-66"><a href="#cb13-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine + compute approx. viewership</span></span>
<span id="cb13-67"><a href="#cb13-67" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-68"><a href="#cb13-68" aria-hidden="true" tabindex="-1"></a>ST_IMPACT_COMBINED <span class="ot">&lt;-</span> ST_GLOBAL_BY_SEASON <span class="sc">%&gt;%</span></span>
<span id="cb13-69"><a href="#cb13-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(ST_COUNTRIES_BY_SEASON, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"season_num"</span>, <span class="st">"season_label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-70"><a href="#cb13-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(ST_GLOBAL_NUM1,        <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"season_num"</span>, <span class="st">"season_label"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-71"><a href="#cb13-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(episode_minutes,       <span class="at">by =</span> <span class="st">"season_num"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-72"><a href="#cb13-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-73"><a href="#cb13-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">approx_views =</span> <span class="st">`</span><span class="at">Total Global Hours</span><span class="st">`</span> <span class="sc">/</span> (<span class="st">`</span><span class="at">*Average Episode Minutes</span><span class="st">`</span> <span class="sc">/</span> <span class="dv">60</span>),</span>
<span id="cb13-74"><a href="#cb13-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">season_label =</span> <span class="fu">factor</span>(season_label, <span class="at">levels =</span> <span class="fu">paste0</span>(<span class="st">"Stranger Things: S"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>))</span>
<span id="cb13-75"><a href="#cb13-75" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-76"><a href="#cb13-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(season_num) <span class="sc">%&gt;%</span></span>
<span id="cb13-77"><a href="#cb13-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb13-78"><a href="#cb13-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">Season =</span> season_label,</span>
<span id="cb13-79"><a href="#cb13-79" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Global Hours Viewed</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Total Global Hours</span><span class="st">`</span>,</span>
<span id="cb13-80"><a href="#cb13-80" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Approx. Viewership</span><span class="st">`</span>        <span class="ot">=</span> approx_views,</span>
<span id="cb13-81"><a href="#cb13-81" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">*Average Episode Minutes</span><span class="st">`</span>  <span class="ot">=</span> <span class="st">`</span><span class="at">*Average Episode Minutes</span><span class="st">`</span>,</span>
<span id="cb13-82"><a href="#cb13-82" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Global Weeks in Top 10</span><span class="st">`</span>,</span>
<span id="cb13-83"><a href="#cb13-83" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Global Weeks at #1</span><span class="st">`</span>,</span>
<span id="cb13-84"><a href="#cb13-84" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Countries Reached</span><span class="st">`</span>,</span>
<span id="cb13-85"><a href="#cb13-85" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Country-Weeks in Top 10</span><span class="st">`</span></span>
<span id="cb13-86"><a href="#cb13-86" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-87"><a href="#cb13-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-88"><a href="#cb13-88" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-89"><a href="#cb13-89" aria-hidden="true" tabindex="-1"></a><span class="co"># Totals row (sum weeks, incl. #1), max for Countries Reached</span></span>
<span id="cb13-90"><a href="#cb13-90" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-91"><a href="#cb13-91" aria-hidden="true" tabindex="-1"></a>totals_row <span class="ot">&lt;-</span> ST_IMPACT_COMBINED <span class="sc">%&gt;%</span></span>
<span id="cb13-92"><a href="#cb13-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb13-93"><a href="#cb13-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">Season                      =</span> <span class="st">"Totals"</span>,</span>
<span id="cb13-94"><a href="#cb13-94" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Global Hours Viewed</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Total Global Hours Viewed</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb13-95"><a href="#cb13-95" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Approx. Viewership</span><span class="st">`</span>        <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Approx. Viewership</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb13-96"><a href="#cb13-96" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">*Average Episode Minutes</span><span class="st">`</span>  <span class="ot">=</span> <span class="cn">NA_real_</span>,</span>
<span id="cb13-97"><a href="#cb13-97" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Global Weeks in Top 10</span><span class="st">`</span>    <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Global Weeks in Top 10</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb13-98"><a href="#cb13-98" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Global Weeks at #1</span><span class="st">`</span>        <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Global Weeks at #1</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb13-99"><a href="#cb13-99" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Countries Reached</span><span class="st">`</span>         <span class="ot">=</span> <span class="fu">max</span>(<span class="st">`</span><span class="at">Countries Reached</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb13-100"><a href="#cb13-100" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Country-Weeks in Top 10</span><span class="st">`</span>   <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Country-Weeks in Top 10</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-101"><a href="#cb13-101" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-102"><a href="#cb13-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-103"><a href="#cb13-103" aria-hidden="true" tabindex="-1"></a>ST_IMPACT_FINAL <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(ST_IMPACT_COMBINED, totals_row) <span class="sc">%&gt;%</span></span>
<span id="cb13-104"><a href="#cb13-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-105"><a href="#cb13-105" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb13-106"><a href="#cb13-106" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">`</span><span class="at">*Average Episode Minutes</span><span class="st">`</span>,</span>
<span id="cb13-107"><a href="#cb13-107" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">Global Weeks in Top 10</span><span class="st">`</span>,</span>
<span id="cb13-108"><a href="#cb13-108" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">Global Weeks at #1</span><span class="st">`</span>,</span>
<span id="cb13-109"><a href="#cb13-109" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">Countries Reached</span><span class="st">`</span>,</span>
<span id="cb13-110"><a href="#cb13-110" aria-hidden="true" tabindex="-1"></a>        <span class="st">`</span><span class="at">Country-Weeks in Top 10</span><span class="st">`</span>),</span>
<span id="cb13-111"><a href="#cb13-111" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">replace_na</span>(., <span class="dv">0</span>)</span>
<span id="cb13-112"><a href="#cb13-112" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb13-113"><a href="#cb13-113" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Global Hours Viewed</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">comma</span>(<span class="st">`</span><span class="at">Total Global Hours Viewed</span><span class="st">`</span>),</span>
<span id="cb13-114"><a href="#cb13-114" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Approx. Viewership</span><span class="st">`</span>        <span class="ot">=</span> <span class="fu">comma</span>(<span class="fu">round</span>(<span class="st">`</span><span class="at">Approx. Viewership</span><span class="st">`</span>)),</span>
<span id="cb13-115"><a href="#cb13-115" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Global Weeks in Top 10</span><span class="st">`</span>    <span class="ot">=</span> <span class="fu">comma</span>(<span class="st">`</span><span class="at">Global Weeks in Top 10</span><span class="st">`</span>),</span>
<span id="cb13-116"><a href="#cb13-116" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Global Weeks at #1</span><span class="st">`</span>        <span class="ot">=</span> <span class="fu">comma</span>(<span class="st">`</span><span class="at">Global Weeks at #1</span><span class="st">`</span>),</span>
<span id="cb13-117"><a href="#cb13-117" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Countries Reached</span><span class="st">`</span>         <span class="ot">=</span> <span class="fu">comma</span>(<span class="st">`</span><span class="at">Countries Reached</span><span class="st">`</span>),</span>
<span id="cb13-118"><a href="#cb13-118" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Country-Weeks in Top 10</span><span class="st">`</span>   <span class="ot">=</span> <span class="fu">comma</span>(<span class="st">`</span><span class="at">Country-Weeks in Top 10</span><span class="st">`</span>)</span>
<span id="cb13-119"><a href="#cb13-119" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-120"><a href="#cb13-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-121"><a href="#cb13-121" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-122"><a href="#cb13-122" aria-hidden="true" tabindex="-1"></a><span class="co"># Display</span></span>
<span id="cb13-123"><a href="#cb13-123" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb13-124"><a href="#cb13-124" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb13-125"><a href="#cb13-125" aria-hidden="true" tabindex="-1"></a>  ST_IMPACT_FINAL,</span>
<span id="cb13-126"><a href="#cb13-126" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Stranger Things — Combined Global Impact by Season (Scale • Longevity • Multinational Reach • #1 Weeks)"</span>,</span>
<span id="cb13-127"><a href="#cb13-127" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb13-128"><a href="#cb13-128" aria-hidden="true" tabindex="-1"></a>    <span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>,</span>
<span id="cb13-129"><a href="#cb13-129" aria-hidden="true" tabindex="-1"></a>    <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))</span>
<span id="cb13-130"><a href="#cb13-130" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb13-131"><a href="#cb13-131" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span></span>
<span id="cb13-132"><a href="#cb13-132" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a5c291d162bf23ccacff" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a5c291d162bf23ccacff">{"x":{"filter":"none","vertical":false,"caption":"<caption>Stranger Things — Combined Global Impact by Season (Scale • Longevity • Multinational Reach • #1 Weeks)<\/caption>","data":[["Stranger Things: S1","Stranger Things: S2","Stranger Things: S3","Stranger Things: S4","Totals"],["372,450,000","352,700,000","355,520,000","1,887,310,000","2,967,980,000"],["475,468,085","352,700,000","355,520,000","1,301,593,103","2,485,281,189"],[47,60,60,87,0],["10","10","11","19","50"],["0","0","0","7","7"],["93","91","90","93","93"],["686","672","663","1,241","3,262"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Season<\/th>\n      <th>Total Global Hours Viewed<\/th>\n      <th>Approx. Viewership<\/th>\n      <th>*Average Episode Minutes<\/th>\n      <th>Global Weeks in Top 10<\/th>\n      <th>Global Weeks at #1<\/th>\n      <th>Countries Reached<\/th>\n      <th>Country-Weeks in Top 10<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"paging":false,"info":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"name":"Season","targets":0},{"name":"Total Global Hours Viewed","targets":1},{"name":"Approx. Viewership","targets":2},{"name":"*Average Episode Minutes","targets":3},{"name":"Global Weeks in Top 10","targets":4},{"name":"Global Weeks at #1","targets":5},{"name":"Countries Reached","targets":6},{"name":"Country-Weeks in Top 10","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p>*Average minutes derived from the following sources:</p>
<p><em><a href="https://en.wikipedia.org/wiki/List_of_Stranger_Things_episodes">Wikipedia’s List of Stranger Things Episodes</a></em></p>
<p><em><a href="https://www.netflix.com/tudum/articles/stranger-things-season-4-episode-length">Netflix’s Official Tudum Blog</a></em></p>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) Summary for bottom caption</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>summary_artifact <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(show_title <span class="sc">==</span> <span class="st">"Stranger Things"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country_name) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_weeks_in_top_10 =</span> <span class="fu">n_distinct</span>(week), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_countries =</span> <span class="fu">n</span>(),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_weeks =</span> <span class="fu">round</span>(<span class="fu">mean</span>(total_weeks_in_top_10), <span class="dv">1</span>),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) Leaderboard (Top 20 available; Top 5 shown by default)</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>ST_TOP_COUNTRIES_WEEKS <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(show_title <span class="sc">==</span> <span class="st">"Stranger Things"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country_name) <span class="sc">%&gt;%</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">Weeks in Top 10</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">n_distinct</span>(week), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Weeks in Top 10</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Rank =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Rank, <span class="at">Country =</span> country_name, <span class="st">`</span><span class="at">Weeks in Top 10</span><span class="st">`</span>)</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>top3 <span class="ot">&lt;-</span> ST_TOP_COUNTRIES_WEEKS<span class="sc">$</span>Country[ST_TOP_COUNTRIES_WEEKS<span class="sc">$</span>Rank <span class="sc">&lt;=</span> <span class="dv">3</span>]</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) Bottom caption (footnote-style)</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>cap_bottom <span class="ot">&lt;-</span> htmltools<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">caption</span>(</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">style =</span> <span class="st">"caption-side: bottom; text-align:center; color:#666; font-size:0.9em; padding-top:6px;"</span>,</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>  htmltools<span class="sc">::</span><span class="fu">HTML</span>(<span class="fu">sprintf</span>(</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Global reach: &lt;b&gt;%s&lt;/b&gt; countries &amp;nbsp;&amp;middot;&amp;nbsp; Avg per-country Top-10 weeks: &lt;b&gt;%s&lt;/b&gt;"</span>,</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    summary_artifact<span class="sc">$</span>total_countries, summary_artifact<span class="sc">$</span>avg_weeks</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a><span class="co"># 4) Render table (no in-cell bar; bold Top 3)</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>  ST_TOP_COUNTRIES_WEEKS,</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption   =</span> cap_bottom,</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">escape    =</span> <span class="cn">FALSE</span>,</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames  =</span> <span class="cn">FALSE</span>,</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">options   =</span> <span class="fu">list</span>(</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">5</span>,</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">lengthMenu =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">15</span>,<span class="dv">20</span>), <span class="fu">c</span>(<span class="st">'Top 5'</span>,<span class="st">'Top 10'</span>,<span class="st">'Top 15'</span>,<span class="st">'Top 20'</span>)),</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">searching  =</span> <span class="cn">TRUE</span>,</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">info       =</span> <span class="cn">FALSE</span>,</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">order      =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">0</span>, <span class="st">'asc'</span>)),</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">formatStyle</span>(</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Country'</span>,</span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">fontWeight =</span> DT<span class="sc">::</span><span class="fu">styleEqual</span>(top3, <span class="fu">rep</span>(<span class="st">'bold'</span>, <span class="fu">length</span>(top3)))</span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e42b2825e46c37b07033" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e42b2825e46c37b07033">{"x":{"filter":"none","vertical":false,"caption":"<caption style=\"caption-side: bottom; text-align:center; color:#666; font-size:0.9em; padding-top:6px;\">Global reach: <b>93<\/b> countries &nbsp;&middot;&nbsp; Avg per-country Top-10 weeks: <b>13.4<\/b><\/caption>","data":[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],["Pakistan","Ukraine","India","Serbia","Bangladesh","Czech Republic","Belgium","Bulgaria","Croatia","Hungary","Slovakia","Slovenia","United Kingdom","Denmark","Egypt","Finland","Greece","Italy","Sweden","United States"],[24,24,22,21,18,18,17,17,17,17,17,17,17,16,16,16,16,16,16,16]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Rank<\/th>\n      <th>Country<\/th>\n      <th>Weeks in Top 10<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"lengthMenu":[[5,10,15,20],["Top 5","Top 10","Top 15","Top 20"]],"searching":true,"info":false,"order":[[0,"asc"]],"columnDefs":[{"className":"dt-left","targets":"_all"},{"name":"Rank","targets":0},{"name":"Country","targets":1},{"name":"Weeks in Top 10","targets":2}],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'font-weight':value == \"Pakistan\" ? \"bold\" : value == \"Ukraine\" ? \"bold\" : value == \"India\" ? \"bold\" : null});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) Average episode runtimes (minutes)</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">#    Sources you provided:</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">#    - Stranger Things: 63.5 (avg of 47, 60, 60, 87 from your table screenshot)</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#    - Wednesday: 45 (Addams Family Fandom)</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">#    - The Witcher: 60 (epguides)</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">#    - The Sandman: 51 (TVMaze)</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    - Locke &amp; Key: 50 (Fandom range ~40–56 → midpoint 50)</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#    - Shadow and Bone: 60 (epguides)</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ---------------------------</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>RUNTIME_REF <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>show_title,        <span class="sc">~</span>avg_episode_minutes,</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Stranger Things"</span>,  <span class="fl">63.5</span>,</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Wednesday"</span>,        <span class="dv">45</span>,</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"The Witcher"</span>,      <span class="dv">60</span>,</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"The Sandman"</span>,      <span class="dv">51</span>,</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Locke &amp; Key"</span>,      <span class="dv">50</span>,</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Shadow and Bone"</span>,  <span class="dv">60</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep only these six shows (English-language Netflix Originals)</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>TARGET_SHOWS <span class="ot">&lt;-</span> RUNTIME_REF<span class="sc">$</span>show_title</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a><span class="co"># ---------------------------</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 2) Summarize global performance across ALL seasons</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a><span class="co"># ---------------------------</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>SHOW_SUMMARY <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>    category <span class="sc">==</span> <span class="st">"TV (English)"</span>,</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>    show_title <span class="sc">%in%</span> TARGET_SHOWS</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># prevent blanks from inflating season counts</span></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">season_title =</span> <span class="fu">na_if</span>(season_title, <span class="st">""</span>)</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(show_title) <span class="sc">%&gt;%</span></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Number of Seasons</span><span class="st">`</span>  <span class="ot">=</span> <span class="fu">n_distinct</span>(season_title, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Hours Viewed</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># join average runtimes (minutes)</span></span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(RUNTIME_REF, <span class="at">by =</span> <span class="st">"show_title"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># runtime-adjusted approximate viewership</span></span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Approximate Viewership</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">Total Hours Viewed</span><span class="st">`</span> <span class="sc">/</span> (avg_episode_minutes <span class="sc">/</span> <span class="dv">60</span>))</span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pretty formatting for large numbers</span></span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Hours Viewed</span><span class="st">`</span>     <span class="ot">=</span> <span class="fu">comma</span>(<span class="st">`</span><span class="at">Total Hours Viewed</span><span class="st">`</span>),</span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Approximate Viewership</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">comma</span>(<span class="st">`</span><span class="at">Approximate Viewership</span><span class="st">`</span>)</span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># final columns / headers</span></span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Show Title</span><span class="st">`</span> <span class="ot">=</span> show_title,</span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Number of Seasons</span><span class="st">`</span>,</span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Hours Viewed</span><span class="st">`</span>,</span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">*Average Episode Minutes</span><span class="st">`</span> <span class="ot">=</span> avg_episode_minutes,</span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Approximate Viewership</span><span class="st">`</span></span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a>  <span class="co"># sort by (numeric) total hours</span></span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="fu">parse_number</span>(<span class="st">`</span><span class="at">Total Hours Viewed</span><span class="st">`</span>)))</span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a><span class="co"># ---------------------------</span></span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) Display</span></span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a><span class="co"># ---------------------------</span></span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a>  SHOW_SUMMARY,</span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Global Performance of Selected English Netflix Originals (Sci-Fi/Fantasy/Supernatural, All Seasons)"</span>,</span>
<span id="cb15-69"><a href="#cb15-69" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb15-70"><a href="#cb15-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">pageLength =</span> <span class="dv">10</span>,</span>
<span id="cb15-71"><a href="#cb15-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">searching =</span> <span class="cn">FALSE</span>,</span>
<span id="cb15-72"><a href="#cb15-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">paging =</span> <span class="cn">FALSE</span>,</span>
<span id="cb15-73"><a href="#cb15-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">info =</span> <span class="cn">FALSE</span>,</span>
<span id="cb15-74"><a href="#cb15-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>)) <span class="co"># &lt;-- left justify all text</span></span>
<span id="cb15-75"><a href="#cb15-75" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb15-76"><a href="#cb15-76" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span></span>
<span id="cb15-77"><a href="#cb15-77" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb15-78"><a href="#cb15-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="st">"*Average Episode Minutes"</span>, <span class="at">digits =</span> <span class="dv">1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-61927d9fdf35ba6e49bb" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-61927d9fdf35ba6e49bb">{"x":{"filter":"none","vertical":false,"caption":"<caption>Global Performance of Selected English Netflix Originals (Sci-Fi/Fantasy/Supernatural, All Seasons)<\/caption>","data":[["Stranger Things","Wednesday","The Witcher","The Sandman","Locke &amp; Key","Shadow and Bone"],[3,2,3,2,3,2],["2,967,980,000","2,842,150,000","1,117,900,000","571,340,000","293,010,000","206,160,000"],[63.5,45,60,51,50,60],["2,804,390,551","3,789,533,333","1,117,900,000","672,164,706","351,612,000","206,160,000"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Show Title<\/th>\n      <th>Number of Seasons<\/th>\n      <th>Total Hours Viewed<\/th>\n      <th>*Average Episode Minutes<\/th>\n      <th>Approximate Viewership<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"searching":false,"paging":false,"info":false,"columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 1, 3, \",\", \".\", null);\n  }"},{"className":"dt-left","targets":"_all"},{"name":"Show Title","targets":0},{"name":"Number of Seasons","targets":1},{"name":"Total Hours Viewed","targets":2},{"name":"*Average Episode Minutes","targets":3},{"name":"Approximate Viewership","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render"],"jsHooks":[]}</script>
</div>
</div>
<p>*Note, Stranger Things average runtime caculated from the values presented in an earlier table.</p>
<p>The following links contain sources justifying these average per episode runtimes.</p>
<p><em><a href="https://addamsfamily.fandom.com/wiki/Wednesday_(series)">Wednesday Average Runtime</a></em></p>
<p><em><a href="https://epguides.com/Witcher/">The Witcher Average Runtime</a></em></p>
<p><em><a href="https://www.tvmaze.com/shows/42827/the-sandman">The Sandman</a></em></p>
<p><em><a href="https://lockekey.fandom.com/wiki/Season_One">Locke &amp; Key Average Runtime</a></em></p>
<p><em><a href="https://epguides.com/ShadowandBone/">Shadow and Bone</a></em></p>
<p><br></p>
</section>
<section id="task-6" class="level2">
<h2 class="anchored" data-anchor-id="task-6">Task 6:</h2>
</section>
<section id="press-release-2-commercial-success-in-india" class="level2">
<h2 class="anchored" data-anchor-id="press-release-2-commercial-success-in-india">Press Release 2: Commercial Success in India</h2>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>INDIA_SHOWS_LIST <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(country_name <span class="sc">==</span> <span class="st">"India"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">distinct</span>(show_title, season_title, category) <span class="sc">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">content_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(category, <span class="st">"Films"</span>) <span class="sc">~</span> <span class="st">"Films"</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(category, <span class="st">"TV"</span>) <span class="sc">~</span> <span class="st">"TV Shows"</span>,<span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(content_type, show_title, season_title)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>INDIA_TOTAL_PROGRAMS <span class="ot">&lt;-</span> INDIA_SHOWS_LIST <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(content_type, <span class="at">name =</span> <span class="st">"distinct_shows"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">percentage =</span> <span class="fu">round</span>(distinct_shows <span class="sc">/</span> <span class="fu">sum</span>(distinct_shows) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>))</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>INDIA_TOTAL_PROGRAMS <span class="sc">%&gt;%</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="fu">rename</span>(<span class="st">`</span><span class="at">Content Type</span><span class="st">`</span> <span class="ot">=</span> content_type, <span class="st">`</span><span class="at">Number of Shows</span><span class="st">`</span> <span class="ot">=</span> distinct_shows, <span class="st">`</span><span class="at">Percentage</span><span class="st">`</span> <span class="ot">=</span> percentage) <span class="sc">%&gt;%</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-94c09259b6fc2f421da6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-94c09259b6fc2f421da6">{"x":{"filter":"none","vertical":false,"data":[["1","2"],["Films","TV Shows"],[790,522],[60.2,39.8]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Content Type<\/th>\n      <th>Number of Shows<\/th>\n      <th>Percentage<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Content Type","targets":1},{"name":"Number of Shows","targets":2},{"name":"Percentage","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>total_shows <span class="ot">&lt;-</span> <span class="fu">sum</span>(INDIA_TOTAL_PROGRAMS<span class="sc">$</span>distinct_shows)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Total distinct viewing options in India:"</span>, total_shows)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Total distinct viewing options in India: 1312</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>india_exclusive_from_us <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(show_title, season_title) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">appears_in_india =</span> <span class="fu">any</span>(country_name <span class="sc">==</span> <span class="st">"India"</span>),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">appears_in_us =</span> <span class="fu">any</span>(country_name <span class="sc">==</span> <span class="st">"United States"</span>),</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(appears_in_india <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span> appears_in_us <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>india_only_list <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country_name <span class="sc">==</span> <span class="st">"India"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(india_exclusive_from_us, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"show_title"</span>, <span class="st">"season_title"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(<span class="fu">tolower</span>(show_title), <span class="st">"telugu|tamil"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(show_title, season_title, category) <span class="sc">%&gt;%</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">content_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(category, <span class="st">"Films"</span>) <span class="sc">~</span> <span class="st">"Films"</span>,</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(category, <span class="st">"TV"</span>) <span class="sc">~</span> <span class="st">"TV Shows"</span>,</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(content_type, show_title, season_title)</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>india_only_breakdown <span class="ot">&lt;-</span> india_only_list <span class="sc">%&gt;%</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(content_type, <span class="at">name =</span> <span class="st">"distinct_shows"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage =</span> <span class="fu">round</span>(distinct_shows <span class="sc">/</span> <span class="fu">sum</span>(distinct_shows) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>))</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>india_only_breakdown <span class="sc">%&gt;%</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Content Type</span><span class="st">`</span> <span class="ot">=</span> content_type, <span class="st">`</span><span class="at">Number of Shows</span><span class="st">`</span> <span class="ot">=</span> distinct_shows, <span class="st">`</span><span class="at">Percentage</span><span class="st">`</span> <span class="ot">=</span> percentage) <span class="sc">%&gt;%</span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-b192c079938d892c2ea6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b192c079938d892c2ea6">{"x":{"filter":"none","vertical":false,"data":[["1","2"],["Films","TV Shows"],[474,255],[65,35]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Content Type<\/th>\n      <th>Number of Shows<\/th>\n      <th>Percentage<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Content Type","targets":1},{"name":"Number of Shows","targets":2},{"name":"Percentage","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>total_india_only <span class="ot">&lt;-</span> <span class="fu">sum</span>(india_only_breakdown<span class="sc">$</span>distinct_shows)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Total distinct viewing options in India that do NOT </span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="st">  appear in US (excluding Telugu/Tamil language viewing options):"</span>, total_india_only)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Total distinct viewing options in India that do NOT 
  appear in US (excluding Telugu/Tamil language viewing options): 729</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>india_exclusive_combinations <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(show_title, season_title) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">appears_in_india =</span> <span class="fu">any</span>(country_name <span class="sc">==</span> <span class="st">"India"</span>),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">appears_in_us =</span> <span class="fu">any</span>(country_name <span class="sc">==</span> <span class="st">"United States"</span>),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(appears_in_india <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span> appears_in_us <span class="sc">==</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(<span class="fu">tolower</span>(show_title), <span class="st">"telugu|tamil"</span>))</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>global_appearing_breakdown <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Films (Non-English)"</span>, <span class="st">"TV (Non-English)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(india_exclusive_combinations, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"show_title"</span>, <span class="st">"season_title"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(show_title, season_title, category) <span class="sc">%&gt;%</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">content_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(category, <span class="st">"Films"</span>) <span class="sc">~</span> <span class="st">"Films"</span>,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(category, <span class="st">"TV"</span>) <span class="sc">~</span> <span class="st">"TV Shows"</span>,</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(content_type, <span class="at">name =</span> <span class="st">"distinct_shows"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage =</span> <span class="fu">round</span>(distinct_shows <span class="sc">/</span> <span class="fu">sum</span>(distinct_shows) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>))</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>films_metrics <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(category <span class="sc">==</span> <span class="st">"Films (Non-English)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(india_exclusive_combinations, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"show_title"</span>, <span class="st">"season_title"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_hours =</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>tv_metrics <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(category <span class="sc">==</span> <span class="st">"TV (Non-English)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(india_exclusive_combinations, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"show_title"</span>, <span class="st">"season_title"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_hours =</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>shows_in_global_count <span class="ot">&lt;-</span> <span class="fu">sum</span>(global_appearing_breakdown<span class="sc">$</span>distinct_shows)</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>total_combinations <span class="ot">&lt;-</span> <span class="fu">nrow</span>(india_exclusive_combinations)</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>global_penetration <span class="ot">&lt;-</span> <span class="fu">round</span>((shows_in_global_count <span class="sc">/</span> total_combinations) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>INDIA_EXCLUSIVE_SUMMARY <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Films (Non-English)"</span>, <span class="st">"TV (Non-English)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(india_exclusive_combinations, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"show_title"</span>, <span class="st">"season_title"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_hours_viewed =</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_weeks_in_top_10 =</span> <span class="fu">mean</span>(cumulative_weeks_in_top_10, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_weeks_in_top_10 =</span> <span class="fu">max</span>(cumulative_weeks_in_top_10, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_hours_formatted =</span> <span class="fu">comma</span>(total_hours_viewed),</span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_weeks_formatted =</span> <span class="fu">round</span>(avg_weeks_in_top_10, <span class="dv">1</span>)</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>GLOBAL_REACH_SUMMARY <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">Metric =</span> <span class="fu">c</span>(<span class="st">"Total Show+Season Combinations"</span>, </span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Total Hours Viewed - Non-English Films"</span>, </span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Total Hours Viewed - Non-English TV"</span>,</span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Combined Hours Viewed (Non-English)"</span>, </span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Average Weeks in Global Top 10"</span>, <span class="st">"Maximum Weeks in Global Top 10"</span>, </span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Non-English Combinations in Global Charts"</span>, <span class="st">"Non-English Global Chart Penetration Rate"</span>),</span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>  <span class="at">Value =</span> <span class="fu">c</span>(</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a>    total_combinations,</span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">comma</span>(films_metrics<span class="sc">$</span>total_hours), </span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">comma</span>(tv_metrics<span class="sc">$</span>total_hours),</span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>    INDIA_EXCLUSIVE_SUMMARY<span class="sc">$</span>total_hours_formatted,</span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(INDIA_EXCLUSIVE_SUMMARY<span class="sc">$</span>avg_weeks_formatted, <span class="st">" weeks"</span>),</span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(INDIA_EXCLUSIVE_SUMMARY<span class="sc">$</span>max_weeks_in_top_10, <span class="st">" weeks"</span>),</span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(shows_in_global_count, <span class="st">" of "</span>, total_combinations, <span class="st">" combinations"</span>),</span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(global_penetration, <span class="st">"%"</span>)</span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"India-exclusive NON-ENGLISH, (proxy for Hindi; excludes Telugu/Tamil) that achieved global top 10 status:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>India-exclusive NON-ENGLISH, (proxy for Hindi; excludes Telugu/Tamil) that achieved global top 10 status:</code></pre>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>global_appearing_breakdown <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Content Type</span><span class="st">`</span> <span class="ot">=</span> content_type, <span class="st">`</span><span class="at">Number of Shows</span><span class="st">`</span> <span class="ot">=</span> distinct_shows, <span class="st">`</span><span class="at">Percentage</span><span class="st">`</span> <span class="ot">=</span> percentage) <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-0bff1ec204c8a39cd0e8" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0bff1ec204c8a39cd0e8">{"x":{"filter":"none","vertical":false,"data":[["1","2"],["Films","TV Shows"],[223,140],[61.4,38.6]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Content Type<\/th>\n      <th>Number of Shows<\/th>\n      <th>Percentage<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Content Type","targets":1},{"name":"Number of Shows","targets":2},{"name":"Percentage","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Total NON-ENGLISH (proxy for Hindi; excludes Telugu/Tamil) appearing in global charts:"</span>, shows_in_global_count, <span class="st">"of"</span>, total_combinations, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Total NON-ENGLISH (proxy for Hindi; excludes Telugu/Tamil) appearing in global charts: 363 of 729 </code></pre>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>GLOBAL_REACH_SUMMARY <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7768278500c3717ba304" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7768278500c3717ba304">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8"],["Total Show+Season Combinations","Total Hours Viewed - Non-English Films","Total Hours Viewed - Non-English TV","Combined Hours Viewed (Non-English)","Average Weeks in Global Top 10","Maximum Weeks in Global Top 10","Non-English Combinations in Global Charts","Non-English Global Chart Penetration Rate"],["729","3,561,990,000","12,275,800,000","15,837,790,000","3.1 weeks","21 weeks","363 of 729 combinations","49.8%"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Metric<\/th>\n      <th>Value<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Metric","targets":1},{"name":"Value","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>india_exclusive_combinations <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">season_title =</span> <span class="fu">coalesce</span>(season_title, <span class="st">""</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(show_title, season_title) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">appears_in_india =</span> <span class="fu">any</span>(country_name <span class="sc">==</span> <span class="st">"India"</span>),</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">appears_in_us =</span> <span class="fu">any</span>(country_name <span class="sc">==</span> <span class="st">"United States"</span>),</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(appears_in_india <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span> appears_in_us <span class="sc">==</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(<span class="fu">tolower</span>(show_title), <span class="st">"telugu|tamil"</span>))</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>INDIA_EXCLUSIVE_METRICS <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">season_title =</span> <span class="fu">coalesce</span>(season_title, <span class="st">""</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Films (Non-English)"</span>, <span class="st">"TV (Non-English)"</span>)) <span class="sc">%&gt;%</span>  </span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(india_exclusive_combinations, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"show_title"</span>, <span class="st">"season_title"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(show_title, season_title, category) <span class="sc">%&gt;%</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_weekly_hours_viewed =</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_runtime_minutes =</span> <span class="fu">round</span>(<span class="fu">mean</span>(runtime, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">60</span>, <span class="dv">0</span>),</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_weekly_views =</span> <span class="fu">sum</span>(weekly_views, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_cumulative_weeks_in_top_10 =</span> <span class="fu">max</span>(cumulative_weeks_in_top_10, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">weeks_appeared =</span> <span class="fu">n_distinct</span>(week),</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">content_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(category, <span class="st">"Films"</span>) <span class="sc">~</span> <span class="st">"Films"</span>,</span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(category, <span class="st">"TV"</span>) <span class="sc">~</span> <span class="st">"TV Shows"</span>,</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_hours_formatted =</span> <span class="fu">comma</span>(total_weekly_hours_viewed),</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_views_formatted =</span> <span class="fu">comma</span>(total_weekly_views)</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_weekly_hours_viewed)) <span class="sc">%&gt;%</span></span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(show_title, season_title, content_type, total_hours_formatted, avg_runtime_minutes, </span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>         total_views_formatted, max_cumulative_weeks_in_top_10, weeks_appeared)</span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>INDIA_EXCLUSIVE_METRICS <span class="sc">%&gt;%</span></span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_titles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">TRUE</span>, <span class="at">info =</span> <span class="cn">TRUE</span>, <span class="at">paging =</span> <span class="cn">TRUE</span>, <span class="at">pageLength =</span> <span class="dv">5</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-0997c5ef72f12bd42134" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0997c5ef72f12bd42134">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363"],["Queen of Tears","When Life Gives You Tangerines","King the Land","Love Next Door","My Demon","Alchemy of Souls","Hometown Cha-Cha-Cha","When the Phone Rings","Business Proposal","Bon Appétit, Your Majesty","True Beauty","Unspeakable Sins","Beyond the Bar","The Trauma Code: Heroes on Call","Crash Course in Romance","Strong Girl Nam-soon","Elite","Twenty Five Twenty One","Little Women","Alice in Borderland","Raising Voices","Doctor Slump","Gyeongseong Creature","Doctor Cha","Welcome to Samdal-ri","Destined with You","Dark Desire","Money Heist: Korea - Joint Economic Area","Our Beloved Summer","Tastefully Yours","The Good Bad Mother","Elite","Burning Body","Alchemy of Souls","Celebrity","Young Lady and Gentleman","Mask Girl","Mr. Queen","Breathless","Hierarchy","Forecasting Love and Weather","Weak Hero","Queenmaker","Single’s Inferno","Trigger","Heeramandi: The Diamond Bazaar","Mercy For None","Crooks","Weak Hero","A Time Called You","A Killer Paradox","The Tearsmith","The 8 Show","Dear Hongrang","Black Knight","Badland Hunters","See You in My 19th Life","Gangs of Galicia","Iron Reign","The Royals","Wingwomen","Shahmaran","The Trunk","Doona!","Elite","DAN DA DAN","Anthracite","Kill Boksoon","Dark Desire","The Shadow Strays","Sweet Home","Daily Dose of Sunshine","Blood Coast","The Frog","Mr. Plankton","Love to Hate You","Karma","Lost Bullet 2","Money Heist","Demon Slayer: Kimetsu no Yaiba","Gyeongseong Creature","Sara - Woman in the Shadows","Gangubai Kathiawadi","Ballerina","Dubai Bling","Through My Window 3: Looking at You","Lucky Baskhar","Lady Voyeur","Melo Movie","Squad 36","Maharaja","Behind Your Touch","Sixty Minutes","Sweet Home","Animal","KENGAN ASHURA","Demon City","Murder Mindfully","Uprising","The Hijacking of Flight 601","IC 814: The Kandahar Hijack","Love Untangled","Fighter","Lucca's World","Kingdom: Ashin of the North","Money Heist","The Pirates: The Last Royal Treasure","Do Patti","Crew","Jawan: Extended Cut","Jewel Thief - The Heist Begins","Pushpa 2: The Rule (Reloaded Version)","Laapataa Ladies","Yakamoz S-245","Chor Nikal Ke Bhaga","Thai Cave Rescue","20th Century Girl","Zom 100: Bucket List of the Dead","GTMAX","Supersex","Dabba Cartel","Money Heist","Tomorrow","The Railway Men - The Untold Story Of Bhopal 1984","Darlings","The Bequeathed","Shaitaan","Chernobyl 1986","Fauda","Wall to Wall","1992","Mission: Cross","Raid 2","Ragnarok","Devotion, a Story of Love and Desire","The Helicopter Heist","Mandala Murders","My Happy Marriage","Dunki","Ready, Set, Love","Ragnarok","Fishbowl Wives","Amaran","The Sound of Magic","Bade Miyan Chote Miyan","Don’t Come Home","Kingdom","Maharaj","Jigra","Sector 36","Sikandar Ka Muqaddar","Minnal Murali","Dubai Bling","The Privilege","Devara","The Devil's Plan","Haseen Dillruba","Bank Under Siege","Rana Naidu","Bhool Bhulaiyaa 3","Sooryavanshi","Ziam","Jaat","Bhakshak","Kalki 2898 AD (Hindi)","Kaala Paani","Dhoom Dhaam","Mission Majnu","Deva","Phir Aayi Hasseen Dillruba","Bhool Bhulaiyaa 2","Khufiya","Mimi","Happiness","Guns &amp; Gulaabs","OMG 2","Saiyaara","Shehzada","Mrs. Chatterjee vs Norway","Tu Jhoothi Main Makkaar","The Great Indian Kapil Show","Hellbound","Khel Khel Mein","GOAT - The Greatest of All Time","How I Became a Superhero","Dream","Lust Stories 2","Laal Singh Chaddha","Once Upon a Crime","HIT: The Third Case","Khakee: The Bengal Chapter","Khakee: The Bihar Chapter","Ghost Doctor","Curry &amp; Cyanide - The Jolly Joseph Case","Dragon","The Diplomat","Aap Jaisa Koi","Sweet Home","Nadaaniyan","Court: State vs A Nobody","Saare Jahan Se Accha: The Silent Guardians","Adipurush","Article 370","Saripodhaa Sanivaaram","Maa","Murder Mubarak","Sikandar","The Ba***ds of Bollywood","Chhaava","Indian 2","Savi","Inspector Zende","A Perfect Fit","The Great Indian Kapil Show","The Buckingham Murders","Dhamaka","'83","Maamla Legal Hai","Officer on Duty","Amar Singh Chamkila","Retro","Black Warrant","TEST","Meiyazhagan","STAND BY ME Doraemon 2","Thug Life","Jersey","Daaku Maharaaj","Doctor G","Badhaai Do","Gumraah","The Fame Game","Shahmaran","Kohrra","Ulajh","Dasvi","Yeh Kaali Kaali Ankhein","Mission Raniganj: The Great Bharat Rescue","Srikanth","Codename: Tiranga","Dream Girl 2","VidaaMuyarchi","Plan A Plan B","Vicky Vidya ka Woh Wala Video","Maareesan","Tribhuvan Mishra CA Topper","Aranyak","Kho Gaye Hum Kahan","Salaar","Monica, O My Darling","An Action Hero","Kota Factory","The Great Indian Kapil Show","HIT: The First Case","Chandigarh Kare Aashiqui","Class","Ek Villain Returns","Mr. &amp; Mrs. Mahi","CBI 5: The Brain","She","House of Secrets: The Burari Deaths","Meenakshi Sundareshwar","Kathal - A Jackfruit Mystery","Mili","Anweshippin Kandethum","Wild Wild Punjab","Goodbye","Double XL","Metro... In Dino","The Archies","Major (Hindi)","Cirkus","Emergency","Kung Fu Hustle","Thar","Dragon Ball DAIMA","Hi Nanna","SPY x FAMILY","Tehran","Guntur Kaaram (Hindi)","Kantara (Hindi)","Jaadugar","Raw (Hindi)","Mismatched","Shabaash Mithu (Hindi)","Leo (Hindi)","Jujutsu Kaisen","Mighty Bheem's Playtime","Thunivu (Hindi)","Shyam Singha Roy","Azaad","Merry Christmas (Hindi)","Don","Navarasa","Good Bad Ugly","Sajini Shinde Ka Viral Video","Faraaz","Dobaaraa","Radhe Shyam (Hindi)","Waltair Veerayya","Afwaah","Guntur Kaaram","Sukhee","Thalaivii","Kadhalikka Neramillai","Mahavatar Narsimha","Thandel","Anek","Looop Lapeta","Bhola Shankar","Jack","Bagheera","GodFather (Hindi)","Kondal","Thunivu","Gandeevadhari Arjuna","Dasara","Friday Night Plan","Dhak Dhak","Thangalaan","Gatta Kusthi","Rifle Club","Kuttey","CTRL","Deception - Round D Corner","Ante Sundaraniki","Sir (Hindi)","Hi Papa (Hindi)","Tara VS. Bilal","Jogi","Vadh","Irugapatru","Toolsidas Junior","Mad Square","Thank You for Coming","Nikamma","The Ghost","Thai Massage","Yo Yo Honey Singh: Famous","Mr. Bachchan","Thammudu","Tillu Square","Vaathi","Vaashi (Malayalam)","Bhola Shankar (Hindi)","Bro","Sir","Jana Gana Mana","Foot Fairy (Hindi)","Japan","Tad, The Lost Explorer and the Emerald Tablet","Kaapa","Ramabanam","Operation Romeo","Bro (Hindi)","All India Rank","Oho Enthan Baby","Ranga Ranga Vaibhavanga","Kannai Nambathe","Saakini Daakini","Iratta","Ankahi Kahaniya","Thimmarusu"],["Queen of Tears: Limited Series","When Life Gives You Tangerines: Limited Series","King the Land: Limited Series","Love Next Door: Limited Series","My Demon: Limited Series","Alchemy of Souls: Part 1","Hometown Cha-Cha-Cha: Limited Series","When the Phone Rings: Limited Series","Business Proposal: Limited Series","Bon Appétit, Your Majesty: Limited Series","True Beauty: Limited Series","Unspeakable Sins: Season 1","Beyond the Bar: Limited Series","The Trauma Code: Heroes on Call: Season 1","Crash Course in Romance: Limited Series","Strong Girl Nam-soon: Limited Series","Elite: Season 5","Twenty Five Twenty One: Limited Series","Little Women: Limited Series","Alice in Borderland: Season 1","Raising Voices: Limited Series","Doctor Slump: Limited Series","Gyeongseong Creature: Season 1","Doctor Cha: Limited Series","Welcome to Samdal-ri: Limited Series","Destined with You: Limited Series","Dark Desire: Season 2","Money Heist: Korea - Joint Economic Area: Season 1","Our Beloved Summer: Limited Series","Tastefully Yours: Limited Series","The Good Bad Mother: Limited Series","Elite: Season 6","Burning Body: Limited Series","Alchemy of Souls: Part 2","Celebrity: Limited Series","Young Lady and Gentleman: Limited Series","Mask Girl: Limited Series","Mr. Queen: Limited Series","Breathless: Season 1","Hierarchy: Limited Series","Forecasting Love and Weather: Limited Series","Weak Hero: Class 1","Queenmaker: Season 1","Single’s Inferno: Season 3","Trigger: Limited Series","Heeramandi: The Diamond Bazaar: Season 1","Mercy For None: Limited Series","Crooks: Season 1","Weak Hero: Class 2","A Time Called You: Limited Series","A Killer Paradox: Season 1","","The 8 Show: Limited Series","Dear Hongrang: Season 1","Black Knight: Season 1","","See You in My 19th Life: Limited Series","Gangs of Galicia: Season 1","Iron Reign: Season 1","The Royals: Season 1","","Shahmaran: Season 1","The Trunk: Limited Series","Doona!: Season 1","Elite: Season 8","DAN DA DAN: Season 2","Anthracite: Secrets of the Sect","","Dark Desire: Season 1","","Sweet Home: Season 2","Daily Dose of Sunshine: Season 1","Blood Coast: Season 1","The Frog: Limited Series","Mr. Plankton: Limited Series","Love to Hate You: Season 1","Karma: Limited Series","","Money Heist: Part 4","Demon Slayer: Kimetsu no Yaiba: Hashira Training Arc","Gyeongseong Creature: Season 2","Sara - Woman in the Shadows: Season 1","","","Dubai Bling: Season 1","","","Lady Voyeur: Limited Series","Melo Movie: Limited Series","","","Behind Your Touch: Limited Series","","Sweet Home: Season 3","","KENGAN ASHURA: Season 2","","Murder Mindfully: Season 1","","The Hijacking of Flight 601: Season 1","IC 814: The Kandahar Hijack: Limited Series","","","","","Money Heist: Part 2","","","","","","","","Yakamoz S-245: Season 1","","Thai Cave Rescue: Limited Series","","","","Supersex: Limited Series","Dabba Cartel: Season 1","Money Heist: Part 3","Tomorrow: Limited Series","The Railway Men - The Untold Story Of Bhopal 1984: Limited Series","","The Bequeathed: Limited Series","","","Fauda: Season 4","","1992: Season 1","","","Ragnarok: Season 2","Devotion, a Story of Love and Desire: Season 1","The Helicopter Heist: Limited Series","Mandala Murders: Season 1","My Happy Marriage: Season 1","","Ready, Set, Love: Season 1","Ragnarok: Season 1","Fishbowl Wives: Season 1","","The Sound of Magic: Limited Series","","Don’t Come Home: Limited Series","","","","","","","Dubai Bling: Season 2","","","The Devil's Plan: Season 1","","Bank Under Siege: Limited Series","Rana Naidu: Season 1","","","","","","","Kaala Paani: Season 1","","","","","","","","Happiness: Limited Series","Guns &amp; Gulaabs: Season 1","","","","","","The Great Indian Kapil Show: Season 1","Hellbound: Season 2","","","","","","","","","Khakee: The Bengal Chapter: Season 1","Khakee: The Bihar Chapter: Season 1","Ghost Doctor: Limited Series","","","","","Sweet Home: Season 1","","","Saare Jahan Se Accha: The Silent Guardians: Season 1","","","","","","","The Ba***ds of Bollywood: Season 1","","","","","","The Great Indian Kapil Show: Season 2","","","","Maamla Legal Hai: Season 1","","","","Black Warrant: Season 1","","","","","","","","","","The Fame Game: Season 1","Shahmaran: Season 2","Kohrra: Season 1","","","Yeh Kaali Kaali Ankhein: Season 1","","","","","","","","","Tribhuvan Mishra CA Topper: Season 1","Aranyak: Season 1","","","","","Kota Factory: Season 3","The Great Indian Kapil Show: Season 3","","","Class: Season 1","","","","She: Season 2","House of Secrets: The Burari Deaths: Limited Series","","","","","","","","","","","","","","","","","SPY x FAMILY: Season 2","","","","","","Mismatched: Season 3","","","Jujutsu Kaisen: Season 2","Mighty Bheem's Playtime: Season 1","","","","","","Navarasa: Limited Series","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","Films","TV Shows","TV Shows","TV Shows","Films","TV Shows","TV Shows","TV Shows","TV Shows","Films","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","Films","TV Shows","Films","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","Films","TV Shows","TV Shows","TV Shows","TV Shows","Films","Films","TV Shows","Films","Films","TV Shows","TV Shows","Films","Films","TV Shows","Films","TV Shows","Films","TV Shows","Films","TV Shows","Films","TV Shows","TV Shows","Films","Films","Films","Films","TV Shows","Films","Films","Films","Films","Films","Films","Films","TV Shows","Films","TV Shows","Films","Films","Films","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","Films","TV Shows","Films","Films","TV Shows","Films","TV Shows","Films","Films","TV Shows","TV Shows","TV Shows","TV Shows","TV Shows","Films","TV Shows","TV Shows","TV Shows","Films","TV Shows","Films","TV Shows","Films","Films","Films","Films","Films","Films","TV Shows","Films","Films","TV Shows","Films","TV Shows","TV Shows","Films","Films","Films","Films","Films","Films","TV Shows","Films","Films","Films","Films","Films","Films","Films","TV Shows","TV Shows","Films","Films","Films","Films","Films","TV Shows","TV Shows","Films","Films","Films","Films","Films","Films","Films","Films","TV Shows","TV Shows","TV Shows","Films","Films","Films","Films","TV Shows","Films","Films","TV Shows","Films","Films","Films","Films","Films","Films","TV Shows","Films","Films","Films","Films","Films","TV Shows","Films","Films","Films","TV Shows","Films","Films","Films","TV Shows","Films","Films","Films","Films","Films","Films","Films","Films","Films","TV Shows","TV Shows","TV Shows","Films","Films","TV Shows","Films","Films","Films","Films","Films","Films","Films","Films","TV Shows","TV Shows","Films","Films","Films","Films","TV Shows","TV Shows","Films","Films","TV Shows","Films","Films","Films","TV Shows","TV Shows","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","TV Shows","Films","TV Shows","Films","Films","Films","Films","Films","TV Shows","Films","Films","TV Shows","TV Shows","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films","Films"],["653,900,000","481,600,000","446,900,000","340,200,000","331,100,000","303,210,000","300,580,000","282,300,000","279,110,000","265,800,000","241,850,000","216,300,000","202,000,000","184,500,000","183,450,000","174,400,000","172,640,000","171,610,000","163,520,000","160,510,000","158,900,000","154,300,000","152,100,000","150,910,000","150,200,000","146,000,000","141,710,000","133,510,000","128,890,000","128,000,000","122,850,000","120,980,000","118,000,000","115,820,000","113,200,000","108,210,000","105,600,000","104,920,000","103,500,000","103,400,000","100,850,000","99,600,000","99,480,000","95,500,000","91,200,000","90,900,000","89,200,000","87,400,000","85,800,000","85,700,000","85,300,000","83,600,000","80,700,000","79,900,000","79,400,000","74,600,000","74,600,000","74,200,000","72,700,000","72,300,000","70,700,000","67,790,000","66,700,000","66,000,000","65,900,000","65,600,000","65,200,000","63,380,000","61,230,000","61,200,000","60,800,000","59,900,000","59,100,000","56,100,000","55,600,000","54,210,000","54,200,000","54,150,000","52,540,000","52,200,000","52,000,000","50,900,000","50,800,000","50,600,000","48,740,000","48,500,000","48,000,000","46,820,000","46,800,000","46,500,000","46,300,000","46,000,000","46,000,000","46,000,000","45,600,000","45,000,000","44,800,000","44,000,000","42,400,000","41,500,000","40,100,000","39,200,000","38,400,000","37,200,000","37,140,000","36,830,000","36,590,000","36,500,000","36,100,000","35,900,000","35,900,000","35,400,000","35,300,000","35,060,000","35,000,000","34,640,000","34,510,000","33,700,000","33,600,000","33,200,000","33,100,000","32,970,000","32,800,000","32,600,000","32,280,000","32,100,000","31,600,000","31,370,000","31,260,000","31,100,000","31,000,000","30,700,000","30,400,000","29,400,000","29,300,000","29,300,000","29,200,000","29,000,000","28,600,000","28,000,000","27,700,000","27,020,000","26,600,000","26,570,000","26,300,000","26,100,000","25,200,000","25,200,000","25,100,000","25,100,000","25,100,000","25,020,000","24,900,000","24,820,000","24,700,000","24,700,000","24,630,000","24,600,000","24,480,000","24,400,000","24,310,000","23,800,000","23,500,000","23,400,000","23,100,000","22,800,000","22,600,000","22,560,000","22,400,000","22,200,000","21,950,000","21,900,000","21,830,000","21,760,000","21,400,000","21,200,000","21,200,000","20,560,000","20,540,000","20,410,000","20,400,000","20,000,000","19,000,000","18,700,000","18,680,000","18,500,000","18,500,000","18,190,000","18,100,000","17,900,000","17,700,000","17,600,000","17,520,000","16,900,000","16,900,000","16,900,000","16,800,000","16,600,000","16,300,000","16,100,000","15,500,000","15,300,000","15,300,000","15,300,000","15,000,000","14,900,000","14,900,000","14,800,000","14,700,000","14,700,000","14,600,000","14,500,000","14,300,000","14,100,000","14,000,000","13,920,000","13,650,000","13,300,000","13,000,000","12,900,000","12,700,000","12,600,000","12,500,000","12,200,000","12,130,000","12,100,000","12,070,000","12,000,000","11,920,000","11,770,000","11,650,000","11,610,000","11,600,000","11,500,000","11,500,000","11,330,000","11,260,000","11,200,000","11,200,000","11,010,000","10,900,000","10,900,000","10,860,000","10,700,000","10,600,000","10,500,000","10,360,000","10,300,000","10,300,000","10,290,000","10,230,000","10,200,000","10,100,000","10,000,000","9,910,000","9,910,000","9,910,000","9,800,000","9,570,000","9,490,000","9,220,000","9,130,000","9,050,000","8,800,000","8,500,000","8,500,000","8,460,000","8,410,000","8,300,000","8,300,000","8,160,000","8,050,000","8,000,000","7,950,000","7,880,000","7,700,000","7,700,000","7,700,000","7,700,000","7,600,000","7,490,000","7,370,000","7,370,000","7,200,000","7,110,000","6,800,000","6,700,000","6,700,000","6,680,000","6,470,000","6,400,000","6,400,000","6,380,000","6,320,000","6,000,000","6,000,000","5,910,000","5,870,000","5,550,000","5,380,000","5,300,000","5,300,000","5,300,000","5,230,000","5,200,000","5,000,000","5,000,000","4,900,000","4,900,000","4,600,000","4,600,000","4,400,000","4,340,000","4,200,000","4,050,000","3,900,000","3,860,000","3,800,000","3,700,000","3,700,000","3,600,000","3,600,000","3,550,000","3,500,000","3,370,000","3,270,000","3,120,000","3,100,000","3,100,000","3,080,000","3,080,000","3,000,000","2,960,000","2,900,000","2,900,000","2,880,000","2,880,000","2,870,000","2,800,000","2,600,000","2,500,000","2,500,000","2,430,000","2,400,000","2,300,000","2,300,000","2,270,000","2,230,000","2,200,000","2,200,000","2,200,000","2,130,000","2,100,000","1,940,000","1,900,000","1,800,000","1,700,000","1,620,000","1,400,000","1,370,000","1,350,000","1,260,000","1,220,000"],[594,822,311,271,204,null,null,492,null,469,1201,670,121,416,null,113,null,null,null,389,363,0,607,null,0,592,null,null,null,401,0,null,394,null,539,null,413,null,383,458,null,331,null,524,473,439,301,424,346,731,430,105,419,670,null,109,490,321,500,357,116,414,507,420,386,174,297,null,null,145,571,777,317,464,624,null,321,100,null,60,342,325,null,94,null,105,148,null,617,125,141,0,90,425,201,507,108,262,128,315,266,121,164,97,null,null,null,128,121,171,118,224,124,null,null,null,null,129,100,355,338,null,null,238,null,284,128,null,null,119,267,105,137,298,null,360,310,125,160,410,269,null,169,null,163,273,145,131,154,124,143,null,389,null,172,426,null,216,null,158,null,97,150,135,176,435,109,null,155,133,null,159,null,null,371,155,150,null,null,null,163,295,132,181,null,125,133,null,107,155,351,null,null,98,138,133,115,516,120,149,243,178,157,172,133,142,134,320,158,166,123,112,null,171,107,null,null,252,134,146,163,334,146,158,null,164,null,143,null,null,127,null,271,290,129,null,null,135,134,null,127,152,null,142,150,515,null,135,174,null,null,247,133,null,null,null,null,138,null,null,null,null,null,null,143,111,null,null,160,144,null,null,145,99,null,0,156,165,116,156,null,null,null,306,null,162,72,151,null,null,136,144,null,null,138,114,null,null,null,null,122,156,138,null,140,131,148,null,null,157,133,156,null,145,null,135,null,109,137,149,null,112,null,99,null,null,null,156,null,null,null,153,null,124,118,null,null,null,80,150,151,121,null,null,156,132,null,null,null,154,90,null,139,null,132,98,130,null,null,null,null,null,null],["43,000,000","36,500,000","37,300,000","28,000,000","35,500,000","0","0","35,300,000","0","32,400,000","10,500,000","19,400,000","24,300,000","26,600,000","0","20,800,000","0","0","0","1,200,000","26,300,000","18,600,000","16,000,000","0","13,900,000","17,200,000","0","0","0","23,000,000","1,200,000","0","18,000,000","0","12,600,000","0","15,400,000","0","16,200,000","13,600,000","0","18,100,000","0","12,400,000","11,600,000","12,400,000","17,800,000","12,300,000","14,900,000","7,000,000","11,900,000","47,800,000","11,700,000","7,200,000","0","41,000,000","9,400,000","13,900,000","8,700,000","12,100,000","36,600,000","900,000","7,900,000","9,400,000","10,200,000","28,000,000","13,100,000","0","0","25,300,000","6,400,000","4,600,000","11,300,000","7,300,000","5,300,000","0","10,100,000","4,000,000","0","22,600,000","9,100,000","9,400,000","0","32,300,000","0","27,700,000","19,400,000","0","4,600,000","22,400,000","19,700,000","6,500,000","30,600,000","6,500,000","13,600,000","6,200,000","24,900,000","10,100,000","20,000,000","7,900,000","9,000,000","19,400,000","14,000,000","23,100,000","0","0","0","17,000,000","17,900,000","12,600,000","18,200,000","9,400,000","17,100,000","0","0","0","0","15,600,000","20,200,000","5,600,000","5,900,000","0","0","8,200,000","0","6,800,000","14,800,000","0","0","15,800,000","6,900,000","17,700,000","13,300,000","6,000,000","0","4,900,000","5,700,000","14,700,000","10,800,000","4,100,000","6,200,000","0","9,400,000","0","9,600,000","5,800,000","10,500,000","11,600,000","9,800,000","12,100,000","10,500,000","0","3,800,000","0","8,600,000","3,800,000","0","6,900,000","0","9,300,000","0","14,700,000","9,400,000","10,400,000","8,000,000","3,100,000","12,400,000","0","8,700,000","10,100,000","0","8,300,000","0","0","3,500,000","8,300,000","8,500,000","0","0","0","9,000,000","4,100,000","8,700,000","6,200,000","0","9,000,000","8,400,000","0","10,100,000","6,900,000","3,100,000","0","0","10,300,000","7,000,000","7,600,000","8,800,000","1,900,000","8,200,000","6,500,000","3,800,000","5,200,000","5,800,000","5,300,000","6,700,000","6,300,000","6,700,000","2,800,000","5,500,000","5,300,000","7,200,000","7,800,000","0","5,200,000","7,900,000","0","0","3,100,000","5,700,000","5,300,000","4,600,000","2,300,000","5,200,000","4,700,000","0","4,400,000","0","5,000,000","0","0","1,600,000","0","2,500,000","2,400,000","5,300,000","0","0","4,900,000","5,000,000","0","5,200,000","4,300,000","0","4,500,000","4,200,000","1,200,000","0","4,600,000","3,500,000","0","0","2,400,000","4,800,000","0","0","0","0","4,300,000","0","0","0","0","0","0","3,600,000","4,500,000","0","0","3,100,000","3,500,000","0","0","3,300,000","1,800,000","0","6,300,000","3,000,000","2,900,000","4,000,000","2,900,000","0","0","0","1,400,000","0","2,500,000","5,800,000","2,600,000","0","0","2,900,000","2,700,000","0","0","2,600,000","3,200,000","0","0","0","0","2,600,000","2,000,000","2,300,000","0","2,200,000","2,300,000","2,000,000","0","0","1,800,000","2,100,000","1,700,000","0","1,700,000","0","1,700,000","0","2,100,000","1,600,000","1,500,000","0","1,900,000","0","2,100,000","0","0","0","1,200,000","0","0","0","1,200,000","0","1,400,000","1,500,000","0","0","0","2,200,000","1,000,000","1,000,000","1,200,000","0","0","900,000","1,000,000","0","0","0","900,000","1,500,000","0","900,000","0","900,000","1,100,000","800,000","0","0","0","0","0","0"],[15,9,11,11,11,21,16,8,13,5,7,6,7,5,11,9,5,10,11,9,6,9,5,7,8,8,5,5,8,6,7,4,5,8,4,8,4,6,5,4,8,6,4,5,4,4,5,4,3,4,4,8,5,3,3,4,5,5,3,4,4,4,3,3,5,11,4,7,3,4,2,2,3,3,2,3,3,5,4,10,4,3,6,5,4,5,6,2,2,4,7,4,4,3,3,4,4,3,4,3,3,4,3,4,4,3,4,4,4,4,3,2,6,2,4,2,4,4,3,2,3,3,3,3,4,3,4,5,2,3,3,5,4,3,2,2,3,7,3,2,3,2,4,2,3,2,3,4,5,3,4,4,2,2,4,2,4,2,2,3,5,3,3,3,3,2,3,3,3,4,4,2,5,2,2,3,2,4,2,3,5,2,3,2,2,3,3,4,3,2,2,2,2,3,3,2,3,1,2,3,2,3,2,2,3,2,2,1,2,3,3,3,3,4,3,3,2,2,3,2,2,1,2,2,3,2,3,2,2,2,2,1,2,1,2,3,1,2,2,2,2,2,3,2,2,1,1,2,2,2,2,2,3,2,2,1,2,2,3,1,1,3,2,2,2,2,2,2,2,2,2,2,2,3,2,3,2,2,2,2,2,2,2,1,2,1,3,2,2,2,2,2,2,2,1,2,2,2,2,1,2,1,1,2,1,1,1,1,2,2,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[15,9,11,11,11,21,16,8,13,5,7,6,7,5,11,9,5,10,11,9,6,9,5,7,8,8,5,5,8,6,7,4,5,8,4,8,4,6,5,4,8,6,4,5,4,4,5,4,3,4,4,8,5,3,3,4,5,5,3,4,4,4,3,3,5,11,4,7,3,4,2,2,3,3,2,3,3,5,4,10,4,3,6,5,4,5,6,2,2,4,7,4,4,3,3,4,4,3,4,3,3,4,3,4,4,3,4,4,4,4,3,2,6,2,4,2,4,4,3,2,3,3,3,3,4,3,4,5,2,3,3,5,4,3,2,2,3,7,3,2,3,2,4,2,3,2,5,4,5,3,4,4,2,2,4,2,4,2,2,3,5,3,3,3,3,2,3,3,3,4,4,2,5,2,2,3,2,4,2,3,5,2,3,2,2,3,3,4,3,2,2,2,2,3,5,2,3,1,2,3,2,3,2,2,3,2,2,1,2,3,3,3,3,4,3,4,2,2,3,2,2,1,2,2,3,2,3,2,2,2,2,1,2,1,2,3,1,2,2,2,2,2,3,2,2,1,1,2,2,2,2,2,3,2,2,1,2,2,3,1,1,3,2,2,2,2,2,2,2,2,2,2,2,3,2,3,2,2,2,2,2,2,2,1,2,1,3,2,2,2,2,2,2,2,1,2,2,2,2,1,2,1,1,2,1,1,1,1,2,2,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Show Title<\/th>\n      <th>Season Title<\/th>\n      <th>Content Type<\/th>\n      <th>Total Hours Formatted<\/th>\n      <th>Avg Runtime Minutes<\/th>\n      <th>Total Views Formatted<\/th>\n      <th>Max Cumulative Weeks In Top 10<\/th>\n      <th>Weeks Appeared<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":true,"info":true,"paging":true,"pageLength":5,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Show Title","targets":1},{"name":"Season Title","targets":2},{"name":"Content Type","targets":3},{"name":"Total Hours Formatted","targets":4},{"name":"Avg Runtime Minutes","targets":5},{"name":"Total Views Formatted","targets":6},{"name":"Max Cumulative Weeks In Top 10","targets":7},{"name":"Weeks Appeared","targets":8}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>india_exclusive_combinations <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">season_title =</span> <span class="fu">coalesce</span>(season_title, <span class="st">""</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(show_title, season_title) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">appears_in_india =</span> <span class="fu">any</span>(country_name <span class="sc">==</span> <span class="st">"India"</span>),</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">appears_in_us    =</span> <span class="fu">any</span>(country_name <span class="sc">==</span> <span class="st">"United States"</span>),</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(appears_in_india <span class="sc">&amp;</span> <span class="sc">!</span>appears_in_us) <span class="sc">%&gt;%</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(show_title, <span class="fu">regex</span>(<span class="st">"telugu|tamil"</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>yearly_hours <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">season_title =</span> <span class="fu">coalesce</span>(season_title, <span class="st">""</span>),</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">week =</span> <span class="fu">as.Date</span>(week)) <span class="sc">%&gt;%</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Films (Non-English)"</span>, <span class="st">"TV (Non-English)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(india_exclusive_combinations, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"show_title"</span>,<span class="st">"season_title"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">week =</span> <span class="fu">as.Date</span>(week)) <span class="sc">%&gt;%</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">year_period =</span> <span class="fu">case_when</span>(</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>      week <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2021-07-04"</span>) <span class="sc">&amp;</span> week <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2022-07-04"</span>) <span class="sc">~</span> <span class="st">"2021-2022"</span>,</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>      week <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2022-07-04"</span>) <span class="sc">&amp;</span> week <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2023-07-04"</span>) <span class="sc">~</span> <span class="st">"2022-2023"</span>, </span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>      week <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2023-07-04"</span>) <span class="sc">&amp;</span> week <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2024-07-04"</span>) <span class="sc">~</span> <span class="st">"2023-2024"</span>,</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>      week <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-07-04"</span>) <span class="sc">&amp;</span> week <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2025-07-04"</span>) <span class="sc">~</span> <span class="st">"2024-2025"</span>,</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Outside Period"</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_period <span class="sc">!=</span> <span class="st">"Outside Period"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year_period) <span class="sc">%&gt;%</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_hours_viewed =</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year_period) <span class="sc">%&gt;%</span></span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_hours_formatted =</span> <span class="fu">comma</span>(total_hours_viewed),</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">yoy_change =</span> <span class="fu">ifelse</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span>, <span class="cn">NA</span>, </span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">round</span>(((total_hours_viewed <span class="sc">-</span> <span class="fu">lag</span>(total_hours_viewed)) <span class="sc">/</span> <span class="fu">lag</span>(total_hours_viewed)) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)),</span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">yoy_change_formatted =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(yoy_change), <span class="st">"N/A"</span>, </span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">paste0</span>(<span class="fu">ifelse</span>(yoy_change <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"+"</span>, <span class="st">""</span>), yoy_change, <span class="st">"%"</span>))</span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>yearly_hours <span class="ot">&lt;-</span> yearly_hours <span class="sc">%&gt;%</span></span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year_period =</span> <span class="fu">factor</span>(year_period,</span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"2021-2022"</span>,<span class="st">"2022-2023"</span>,<span class="st">"2023-2024"</span>,<span class="st">"2024-2025"</span>)))</span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>YEARLY_ANALYSIS <span class="ot">&lt;-</span> yearly_hours <span class="sc">%&gt;%</span></span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year_period, total_hours_formatted, yoy_change_formatted) <span class="sc">%&gt;%</span></span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Year Period</span><span class="st">`</span> <span class="ot">=</span> year_period,</span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Hours Viewed</span><span class="st">`</span> <span class="ot">=</span> total_hours_formatted,</span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Year-over-Year Change</span><span class="st">`</span> <span class="ot">=</span> yoy_change_formatted</span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"India-exclusive NON-ENGLISH (proxy for Hindi; excludes Telugu/Tamil) Content - Yearly Viewing Hours Analysis:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>India-exclusive NON-ENGLISH (proxy for Hindi; excludes Telugu/Tamil) Content - Yearly Viewing Hours Analysis:</code></pre>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>YEARLY_ANALYSIS <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-236042bd1dabd93d8fd9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-236042bd1dabd93d8fd9">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["2021-2022","2022-2023","2023-2024","2024-2025"],["2,388,580,000","2,692,510,000","5,526,300,000","4,074,100,000"],["N/A","+12.7%","+105.2%","-26.3%"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year Period<\/th>\n      <th>Total Hours Viewed<\/th>\n      <th>Year-over-Year Change<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-left","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Year Period","targets":1},{"name":"Total Hours Viewed","targets":2},{"name":"Year-over-Year Change","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(yearly_hours, <span class="fu">aes</span>(<span class="at">x =</span> year_period, <span class="at">y =</span> total_hours_viewed, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"steelblue"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"darkred"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a> <span class="fu">labs</span>(</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Yearly Viewing Hours for India-Exclusive Non-English Content"</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year Period"</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Total Hours Viewed"</span>, </span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: Netflix Top 10 data (all weeks)"</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp01_files/figure-html/unnamed-chunk-20-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>first_year <span class="ot">&lt;-</span> yearly_hours<span class="sc">$</span>total_hours_viewed[<span class="dv">1</span>]</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>last_year  <span class="ot">&lt;-</span> yearly_hours<span class="sc">$</span>total_hours_viewed[<span class="fu">nrow</span>(yearly_hours)]</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>total_growth <span class="ot">&lt;-</span> <span class="cf">if</span> (first_year <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(((last_year <span class="sc">-</span> first_year) <span class="sc">/</span> first_year) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> { <span class="cn">NA_real_</span> }</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>avg_annual_growth <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">mean</span>(yearly_hours<span class="sc">$</span>yoy_change, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Growth Summary:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Growth Summary:</code></pre>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Total Growth (2021-2022 to 2024-2025):"</span>, total_growth, <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Total Growth (2021-2022 to 2024-2025): 70.6 %</code></pre>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Average Annual Growth Rate:"</span>, avg_annual_growth, <span class="st">"%"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Average Annual Growth Rate: 30.5 %</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define South Asian countries (excluding Nepal)</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>south_asian_countries <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"India"</span>, <span class="st">"Pakistan"</span>, <span class="st">"Bangladesh"</span>, <span class="st">"Sri Lanka"</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate unique programs by year for each country</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>yearly_unique_programs <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country_name <span class="sc">%in%</span> south_asian_countries) <span class="sc">%&gt;%</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">year_period =</span> <span class="fu">case_when</span>(</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>      week <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2021-07-04"</span>) <span class="sc">&amp;</span> week <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2022-07-04"</span>) <span class="sc">~</span> <span class="st">"2021-2022"</span>,</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>      week <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2022-07-04"</span>) <span class="sc">&amp;</span> week <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2023-07-04"</span>) <span class="sc">~</span> <span class="st">"2022-2023"</span>, </span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>      week <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2023-07-04"</span>) <span class="sc">&amp;</span> week <span class="sc">&lt;</span> <span class="fu">as.Date</span>(<span class="st">"2024-07-04"</span>) <span class="sc">~</span> <span class="st">"2023-2024"</span>,</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>      week <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-07-04"</span>) <span class="sc">&amp;</span> week <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2025-07-05"</span>) <span class="sc">~</span> <span class="st">"2024-2025"</span>,</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Outside Period"</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_period <span class="sc">!=</span> <span class="st">"Outside Period"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">unique_program =</span> <span class="fu">paste</span>(show_title, <span class="fu">ifelse</span>(<span class="fu">is.na</span>(season_title), <span class="st">"NA_SEASON"</span>, season_title), <span class="at">sep =</span> <span class="st">" || "</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country_name, year_period) <span class="sc">%&gt;%</span></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">unique_programs_count =</span> <span class="fu">n_distinct</span>(unique_program), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(country_name, year_period)</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate year-over-year changes</span></span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>yearly_programs_with_change <span class="ot">&lt;-</span> yearly_unique_programs <span class="sc">%&gt;%</span></span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(country_name, year_period) <span class="sc">%&gt;%</span></span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country_name) <span class="sc">%&gt;%</span></span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">yoy_change =</span> <span class="fu">ifelse</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span>, <span class="cn">NA</span>, </span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">round</span>(((unique_programs_count <span class="sc">-</span> <span class="fu">lag</span>(unique_programs_count)) <span class="sc">/</span> <span class="fu">lag</span>(unique_programs_count)) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)),</span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">yoy_change_formatted =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(yoy_change), <span class="st">"N/A"</span>, </span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">paste0</span>(<span class="fu">ifelse</span>(yoy_change <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"+"</span>, <span class="st">""</span>), yoy_change, <span class="st">"%"</span>))</span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-34"><a href="#cb39-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Create separate tables for counts and changes</span></span>
<span id="cb39-35"><a href="#cb39-35" aria-hidden="true" tabindex="-1"></a>counts_table <span class="ot">&lt;-</span> yearly_programs_with_change <span class="sc">%&gt;%</span></span>
<span id="cb39-36"><a href="#cb39-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country_name, year_period, unique_programs_count) <span class="sc">%&gt;%</span></span>
<span id="cb39-37"><a href="#cb39-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> country_name, <span class="at">values_from =</span> unique_programs_count, <span class="at">values_fill =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-38"><a href="#cb39-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year_period)</span>
<span id="cb39-39"><a href="#cb39-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-40"><a href="#cb39-40" aria-hidden="true" tabindex="-1"></a>changes_table <span class="ot">&lt;-</span> yearly_programs_with_change <span class="sc">%&gt;%</span></span>
<span id="cb39-41"><a href="#cb39-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country_name, year_period, yoy_change_formatted) <span class="sc">%&gt;%</span></span>
<span id="cb39-42"><a href="#cb39-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> country_name, <span class="at">values_from =</span> yoy_change_formatted, <span class="at">values_fill =</span> <span class="st">"N/A"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-43"><a href="#cb39-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year_period)</span>
<span id="cb39-44"><a href="#cb39-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-45"><a href="#cb39-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine tables with alternating count and change columns</span></span>
<span id="cb39-46"><a href="#cb39-46" aria-hidden="true" tabindex="-1"></a>SOUTH_ASIA_DETAILED_ANALYSIS <span class="ot">&lt;-</span> counts_table <span class="sc">%&gt;%</span></span>
<span id="cb39-47"><a href="#cb39-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">Year Period</span><span class="st">`</span> <span class="ot">=</span> year_period) <span class="sc">%&gt;%</span></span>
<span id="cb39-48"><a href="#cb39-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(changes_table <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="st">`</span><span class="at">Year Period</span><span class="st">`</span> <span class="ot">=</span> year_period), <span class="at">by =</span> <span class="st">"Year Period"</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">"_Count"</span>, <span class="st">"_Change"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb39-49"><a href="#cb39-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">Year Period</span><span class="st">`</span>, </span>
<span id="cb39-50"><a href="#cb39-50" aria-hidden="true" tabindex="-1"></a>         India_Count, India_Change,</span>
<span id="cb39-51"><a href="#cb39-51" aria-hidden="true" tabindex="-1"></a>         Pakistan_Count, Pakistan_Change,</span>
<span id="cb39-52"><a href="#cb39-52" aria-hidden="true" tabindex="-1"></a>         Bangladesh_Count, Bangladesh_Change,</span>
<span id="cb39-53"><a href="#cb39-53" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Sri Lanka_Count</span><span class="st">`</span>, <span class="st">`</span><span class="at">Sri Lanka_Change</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-54"><a href="#cb39-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb39-55"><a href="#cb39-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">India Count</span><span class="st">`</span> <span class="ot">=</span> India_Count,</span>
<span id="cb39-56"><a href="#cb39-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">India YoY Change</span><span class="st">`</span> <span class="ot">=</span> India_Change,</span>
<span id="cb39-57"><a href="#cb39-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Pakistan Count</span><span class="st">`</span> <span class="ot">=</span> Pakistan_Count,</span>
<span id="cb39-58"><a href="#cb39-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Pakistan YoY Change</span><span class="st">`</span> <span class="ot">=</span> Pakistan_Change,</span>
<span id="cb39-59"><a href="#cb39-59" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Bangladesh Count</span><span class="st">`</span> <span class="ot">=</span> Bangladesh_Count,</span>
<span id="cb39-60"><a href="#cb39-60" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Bangladesh YoY Change</span><span class="st">`</span> <span class="ot">=</span> Bangladesh_Change,</span>
<span id="cb39-61"><a href="#cb39-61" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Sri Lanka Count</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Sri Lanka_Count</span><span class="st">`</span>,</span>
<span id="cb39-62"><a href="#cb39-62" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Sri Lanka YoY Change</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Sri Lanka_Change</span><span class="st">`</span></span>
<span id="cb39-63"><a href="#cb39-63" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb39-64"><a href="#cb39-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-65"><a href="#cb39-65" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the main analysis</span></span>
<span id="cb39-66"><a href="#cb39-66" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"South Asian Countries - Unique Programs with Separate Rate of Change Columns:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>South Asian Countries - Unique Programs with Separate Rate of Change Columns:</code></pre>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>SOUTH_ASIA_DETAILED_ANALYSIS <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">searching =</span> <span class="cn">FALSE</span>, </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">info =</span> <span class="cn">FALSE</span>, </span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">paging =</span> <span class="cn">FALSE</span>,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">scrollX =</span> <span class="cn">TRUE</span>,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">columnDefs =</span> <span class="fu">list</span>(</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-left'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>),</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">width =</span> <span class="st">'80px'</span>, <span class="at">targets =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>)</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>  ))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-428c00bfbcb9e7f4b131" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-428c00bfbcb9e7f4b131">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["2021-2022","2022-2023","2023-2024","2024-2025"],[327,347,353,332],["N/A","+6.1%","+1.7%","-5.9%"],[320,330,328,353],["N/A","+3.1%","-0.6%","+7.6%"],[350,341,334,342],["N/A","-2.6%","-2.1%","+2.4%"],[417,421,435,446],["N/A","+1%","+3.3%","+2.5%"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year Period<\/th>\n      <th>India Count<\/th>\n      <th>India YoY Change<\/th>\n      <th>Pakistan Count<\/th>\n      <th>Pakistan YoY Change<\/th>\n      <th>Bangladesh Count<\/th>\n      <th>Bangladesh YoY Change<\/th>\n      <th>Sri Lanka Count<\/th>\n      <th>Sri Lanka YoY Change<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"scrollX":true,"columnDefs":[{"className":"dt-left","targets":"_all"},{"width":"80px","targets":[1,2,3,4,5,6,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Year Period","targets":1},{"name":"India Count","targets":2},{"name":"India YoY Change","targets":3},{"name":"Pakistan Count","targets":4},{"name":"Pakistan YoY Change","targets":5},{"name":"Bangladesh Count","targets":6},{"name":"Bangladesh YoY Change","targets":7},{"name":"Sri Lanka Count","targets":8},{"name":"Sri Lanka YoY Change","targets":9}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate summary statistics (excluding 2021-2022)</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>summary_stats <span class="ot">&lt;-</span> yearly_programs_with_change <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_period <span class="sc">!=</span> <span class="st">"2021-2022"</span>) <span class="sc">%&gt;%</span>  <span class="co"># Exclude baseline year</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(yoy_change)) <span class="sc">%&gt;%</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country_name) <span class="sc">%&gt;%</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_yoy_change =</span> <span class="fu">round</span>(<span class="fu">mean</span>(yoy_change, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>),</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_growth =</span> <span class="fu">round</span>(<span class="fu">sum</span>(yoy_change, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>),</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_single_year_growth =</span> <span class="fu">round</span>(<span class="fu">max</span>(yoy_change, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>),</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">years_with_data =</span> <span class="fu">n</span>(),</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_yoy_change))</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Display summary chart</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Display summary chart - Average YoY Change Only</span></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">Summary: Average Year-over-Year Change by Country (Excluding 2021-2022 Baseline):</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>

Summary: Average Year-over-Year Change by Country (Excluding 2021-2022 Baseline):</code></pre>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>summary_stats <span class="ot">&lt;-</span> yearly_programs_with_change <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(year_period <span class="sc">!=</span> <span class="st">"2021-2022"</span>) <span class="sc">%&gt;%</span>  <span class="co"># Exclude baseline year</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(yoy_change)) <span class="sc">%&gt;%</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by</span>(country_name) <span class="sc">%&gt;%</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="at">avg_yoy_change =</span> <span class="fu">round</span>(<span class="fu">mean</span>(yoy_change, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>),</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(avg_yoy_change))  <span class="co"># Back to descending order</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>summary_stats <span class="sc">%&gt;%</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="fu">rename</span>(</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a><span class="at">Country =</span> country_name,</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">Average YoY Change</span><span class="st">`</span> <span class="ot">=</span> avg_yoy_change) <span class="sc">%&gt;%</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a><span class="at">searching =</span> <span class="cn">FALSE</span>, </span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="at">info =</span> <span class="cn">FALSE</span>, </span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a><span class="at">paging =</span> <span class="cn">FALSE</span>,</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a><span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">className =</span> <span class="st">'dt-center'</span>, <span class="at">targets =</span> <span class="st">"_all"</span>))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7fc078350bcb3e62f4cf" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7fc078350bcb3e62f4cf">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4"],["Pakistan","Sri Lanka","India","Bangladesh"],[3.4,2.3,0.6,-0.8]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Country<\/th>\n      <th>Average YoY Change<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"paging":false,"columnDefs":[{"className":"dt-center","targets":"_all"},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Country","targets":1},{"name":"Average YoY Change","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify the top performer</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>top_country <span class="ot">&lt;-</span> summary_stats<span class="sc">$</span>country_name[<span class="dv">1</span>]</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>top_avg_growth <span class="ot">&lt;-</span> summary_stats<span class="sc">$</span>avg_yoy_change[<span class="dv">1</span>]</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Highlight: "</span>, top_country, <span class="st">" shows the greatest average year-over-year growth rate at "</span>, top_avg_growth, <span class="st">"% annually."</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Highlight:  Pakistan  shows the greatest average year-over-year growth rate at  3.4 % annually.</code></pre>
</div>
</div>
<p><br></p>
</section>
<section id="task-7-press-release-3" class="level2">
<h2 class="anchored" data-anchor-id="task-7-press-release-3">Task 7: Press Release 3</h2>
</section>
<section id="latin-america-streams-the-chisme-netflix-keeps-millions-glued-to-the-screen" class="level2">
<h2 class="anchored" data-anchor-id="latin-america-streams-the-chisme-netflix-keeps-millions-glued-to-the-screen">Latin America Streams the Chisme: Netflix Keeps Millions Glued to the Screen</h2>
<p><br></p>
<p>Viewers across Latin America are voting with their eyes. Since 2021, nearly two billion hours of Netflix programming have been streamed in the region, with telenovelas accounting for most of the engagement. Long a staple of Latin American culture, the telenovela, or soap opera, blends love, betrayal, family, and, above all else, the chisme, or gossip, with its power to unite and divide viewing communities.</p>
<p>Netflix has captured this audience’s attention with classic and rebooted titles such as Yo Soy Betty La Fea and Café con Aroma de Mujer, which together have contributed more than 1.6 billion viewing hours since arriving on the platform. Notably, Betty premiered in 1999 and Café dates back to 1994, showing that nostalgia remains powerful in the streaming era, especially in Latin America.</p>
<p>At the same time, Netflix Originals like Elite highlight the company’s strength in creating sagas that resonate with viewers worldwide. Since its 2018 debut, Elite has reached audiences in 17 Latin American countries, generating over 700 million global viewing hours across its eight seasons. With a regional population of more than 670 million people, the potential for original telenovela content is enormous.</p>
<p>Looking ahead, Netflix could build on this momentum by rebooting a legendary series such as Kassandra. Originally aired in 1992, Kassandra set a Guinness World Record as the most broadcast Spanish-language telenovela, reaching roughly 140 countries and translated into 60 languages. Although Kassandra is currently unavailable on Netflix, a revival could tap into the region’s demand for nostalgia while attracting new audiences.</p>
<p>With nearly two billion streaming hours already recorded in Latin America, the demand is undeniable. Netflix can no longer afford to rely on streaming archival content. By reviving iconic shows, Netflix can honor the legacy of telenovelas while fueling future growth in the region. However, it must act quickly before competitors turn the chisme into their own streaming success story.</p>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>SPANISH_LATAMER <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Argentina"</span>,<span class="st">"Bolivia"</span>,<span class="st">"Chile"</span>,<span class="st">"Colombia"</span>,<span class="st">"Costa Rica"</span>,<span class="st">"Dominican Republic"</span>,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Ecuador"</span>,<span class="st">"El Salvador"</span>,<span class="st">"Guatemala"</span>,<span class="st">"Honduras"</span>,<span class="st">"Mexico"</span>,<span class="st">"Nicaragua"</span>,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Panama"</span>,<span class="st">"Paraguay"</span>,<span class="st">"Peru"</span>,<span class="st">"Uruguay"</span>,<span class="st">"Venezuela"</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>COUNTRY_TOP_10 <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_title =</span> <span class="fu">coalesce</span>(show_title, <span class="st">"N/A"</span>),</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">season_title =</span> <span class="fu">coalesce</span>(season_title, <span class="st">"N/A"</span>))</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>LATAMER_TOP <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country_name <span class="sc">%in%</span> SPANISH_LATAMER) <span class="sc">%&gt;%</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country_name, show_title, season_title) <span class="sc">%&gt;%</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">max_cumulative =</span> <span class="fu">max</span>(cumulative_weeks_in_top_10, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country_name) <span class="sc">%&gt;%</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> max_cumulative, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(country_name) <span class="sc">%&gt;%</span></span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">Country =</span> country_name,</span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Show Title</span><span class="st">`</span> <span class="ot">=</span> show_title,</span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Season Title</span><span class="st">`</span> <span class="ot">=</span> season_title,</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Cumulative Weeks in Top 10</span><span class="st">`</span> <span class="ot">=</span> max_cumulative</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>LATAMER_TOP,</span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a><span class="at">caption =</span> <span class="st">"Spanish-speaking Latin American Countries: Top Show/Season by Cumulative Weeks in Top 10"</span>,</span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">20</span>, <span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>),</span>
<span id="cb47-31"><a href="#cb47-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span></span>
<span id="cb47-32"><a href="#cb47-32" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-6daf332df7e775436ffb" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6daf332df7e775436ffb">{"x":{"filter":"none","vertical":false,"caption":"<caption>Spanish-speaking Latin American Countries: Top Show/Season by Cumulative Weeks in Top 10<\/caption>","data":[["Argentina","Bolivia","Chile","Colombia","Costa Rica","Dominican Republic","Ecuador","El Salvador","Guatemala","Honduras","Mexico","Nicaragua","Panama","Paraguay","Peru","Uruguay","Venezuela"],["Pasión de Gavilanes","Pablo Escobar, el patrón del mal","Pasión de Gavilanes","Pablo Escobar, el patrón del mal","Pablo Escobar, el patrón del mal","Pablo Escobar, el patrón del mal","Pasión de Gavilanes","Pablo Escobar, el patrón del mal","Pablo Escobar, el patrón del mal","Pablo Escobar, el patrón del mal","Yo soy Betty, la fea","Pablo Escobar, el patrón del mal","Pablo Escobar, el patrón del mal","Pablo Escobar, el patrón del mal","Pasión de Gavilanes","Café con aroma de mujer","Pablo Escobar, el patrón del mal"],["Pasión de Gavilanes: Season 1","Pablo Escobar, el patrón del mal: Season 1","Pasión de Gavilanes: Season 1","Pablo Escobar, el patrón del mal: Season 1","Pablo Escobar, el patrón del mal: Season 1","Pablo Escobar, el patrón del mal: Season 1","Pasión de Gavilanes: Season 1","Pablo Escobar, el patrón del mal: Season 1","Pablo Escobar, el patrón del mal: Season 1","Pablo Escobar, el patrón del mal: Season 1","Yo soy Betty, la fea: Season 1","Pablo Escobar, el patrón del mal: Season 1","Pablo Escobar, el patrón del mal: Season 1","Pablo Escobar, el patrón del mal: Season 1","Pasión de Gavilanes: Season 1","Café con aroma de mujer: Season 1","Pablo Escobar, el patrón del mal: Season 1"],[82,83,75,102,96,98,100,102,101,102,54,102,98,100,92,34,102]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Country<\/th>\n      <th>Show Title<\/th>\n      <th>Season Title<\/th>\n      <th>Cumulative Weeks in Top 10<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":20,"searching":false,"paging":false,"info":false,"columnDefs":[{"className":"dt-right","targets":3},{"name":"Country","targets":0},{"name":"Show Title","targets":1},{"name":"Season Title","targets":2},{"name":"Cumulative Weeks in Top 10","targets":3}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,20,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>TOP_PROGRAMS <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>show_title,                         <span class="sc">~</span>season_title,                              <span class="sc">~</span>avg_runtime_hrs,</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Café con aroma de mujer"</span>,           <span class="st">"Café con aroma de mujer: Season 1"</span>,          <span class="dv">43</span><span class="sc">/</span><span class="dv">60</span>,  </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Pablo Escobar, el patrón del mal"</span>,  <span class="st">"Pablo Escobar, el patrón del mal: Season 1"</span>, <span class="dv">45</span><span class="sc">/</span><span class="dv">60</span>, </span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Pasión de Gavilanes"</span>,               <span class="st">"Pasión de Gavilanes: Season 1"</span>,              <span class="dv">44</span><span class="sc">/</span><span class="dv">60</span>,  </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Yo soy Betty, la fea"</span>,              <span class="st">"Yo soy Betty, la fea: Season 1"</span>,             <span class="dv">30</span><span class="sc">/</span><span class="dv">60</span>   </span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>GLOBAL_CLEAN <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_title   =</span> <span class="fu">coalesce</span>(show_title, <span class="st">""</span>),</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">season_title =</span> <span class="fu">coalesce</span>(season_title, <span class="st">""</span>)</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>TOTALS_GLOBAL <span class="ot">&lt;-</span> GLOBAL_CLEAN <span class="sc">%&gt;%</span></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(TOP_PROGRAMS, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"show_title"</span>, <span class="st">"season_title"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(category, show_title, season_title, avg_runtime_hrs) <span class="sc">%&gt;%</span></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Weekly Hours Viewed</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Approx Global Views</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">Total Weekly Hours Viewed</span><span class="st">`</span> <span class="sc">/</span> avg_runtime_hrs)</span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">Category        =</span> category,</span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Show Title</span><span class="st">`</span>    <span class="ot">=</span> show_title,</span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Season Title</span><span class="st">`</span>  <span class="ot">=</span> season_title,</span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Weekly Hours Viewed</span><span class="st">`</span>,</span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Avg Runtime (hrs)</span><span class="st">`</span> <span class="ot">=</span> avg_runtime_hrs,</span>
<span id="cb48-31"><a href="#cb48-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Approx Global Views</span><span class="st">`</span></span>
<span id="cb48-32"><a href="#cb48-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-33"><a href="#cb48-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-34"><a href="#cb48-34" aria-hidden="true" tabindex="-1"></a>tot_row <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb48-35"><a href="#cb48-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">Category               =</span> <span class="st">"TOTAL"</span>,</span>
<span id="cb48-36"><a href="#cb48-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Show Title</span><span class="st">`</span>           <span class="ot">=</span> <span class="st">"—"</span>,</span>
<span id="cb48-37"><a href="#cb48-37" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Season Title</span><span class="st">`</span>         <span class="ot">=</span> <span class="st">"—"</span>,</span>
<span id="cb48-38"><a href="#cb48-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Total Weekly Hours Viewed</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(TOTALS_GLOBAL<span class="sc">$</span><span class="st">`</span><span class="at">Total Weekly Hours Viewed</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-39"><a href="#cb48-39" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Avg Runtime (hrs)</span><span class="st">`</span>    <span class="ot">=</span> <span class="cn">NA_real_</span>,</span>
<span id="cb48-40"><a href="#cb48-40" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Approx Global Views</span><span class="st">`</span>  <span class="ot">=</span> <span class="fu">sum</span>(TOTALS_GLOBAL<span class="sc">$</span><span class="st">`</span><span class="at">Approx Global Views</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-41"><a href="#cb48-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-42"><a href="#cb48-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-43"><a href="#cb48-43" aria-hidden="true" tabindex="-1"></a>final_tbl <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(TOTALS_GLOBAL, tot_row)</span>
<span id="cb48-44"><a href="#cb48-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-45"><a href="#cb48-45" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb48-46"><a href="#cb48-46" aria-hidden="true" tabindex="-1"></a>  final_tbl,</span>
<span id="cb48-47"><a href="#cb48-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Global Hours &amp; Runtime-Adjusted Approximate Views (Cross-referenced from TSVs)"</span>,</span>
<span id="cb48-48"><a href="#cb48-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>),</span>
<span id="cb48-49"><a href="#cb48-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span></span>
<span id="cb48-50"><a href="#cb48-50" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb48-51"><a href="#cb48-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatCurrency</span>(</span>
<span id="cb48-52"><a href="#cb48-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">"Total Weekly Hours Viewed"</span>, <span class="st">"Approx Global Views"</span>),</span>
<span id="cb48-53"><a href="#cb48-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">currency =</span> <span class="st">""</span>, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">mark =</span> <span class="st">","</span></span>
<span id="cb48-54"><a href="#cb48-54" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-55"><a href="#cb48-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="st">"Avg Runtime (hrs)"</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-b7a073d3f2fc2cf018a3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b7a073d3f2fc2cf018a3">{"x":{"filter":"none","vertical":false,"caption":"<caption>Global Hours &amp; Runtime-Adjusted Approximate Views (Cross-referenced from TSVs)<\/caption>","data":[["TV (Non-English)","TV (Non-English)","TV (Non-English)","TV (Non-English)","TOTAL"],["Café con aroma de mujer","Pablo Escobar, el patrón del mal","Pasión de Gavilanes","Yo soy Betty, la fea","—"],["Café con aroma de mujer: Season 1","Pablo Escobar, el patrón del mal: Season 1","Pasión de Gavilanes: Season 1","Yo soy Betty, la fea: Season 1","—"],[813480000,55530000,49490000,297560000,1216060000],[0.7166666666666667,0.75,0.7333333333333333,0.5,null],[1135088372,74040000,67486364,595120000,1871734736]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Category<\/th>\n      <th>Show Title<\/th>\n      <th>Season Title<\/th>\n      <th>Total Weekly Hours Viewed<\/th>\n      <th>Avg Runtime (hrs)<\/th>\n      <th>Approx Global Views<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"searching":false,"paging":false,"info":false,"columnDefs":[{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"\", 0, 3, \",\", \".\", true, null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"\", 0, 3, \",\", \".\", true, null);\n  }"},{"className":"dt-right","targets":[3,4,5]},{"name":"Category","targets":0},{"name":"Show Title","targets":1},{"name":"Season Title","targets":2},{"name":"Total Weekly Hours Viewed","targets":3},{"name":"Avg Runtime (hrs)","targets":4},{"name":"Approx Global Views","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render"],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>grand_total_hours <span class="ot">&lt;-</span> <span class="fu">sum</span>(TOTALS_GLOBAL<span class="sc">$</span><span class="st">`</span><span class="at">Total Weekly Hours Viewed</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>grand_total_views <span class="ot">&lt;-</span> <span class="fu">sum</span>(TOTALS_GLOBAL<span class="sc">$</span><span class="st">`</span><span class="at">Approx Global Views</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Grand Total Weekly Hours Viewed:"</span>, <span class="fu">comma</span>(grand_total_hours), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Grand Total Weekly Hours Viewed: 1,216,060,000 </code></pre>
</div>
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Grand Total Approx Global Views:"</span>, <span class="fu">comma</span>(grand_total_views), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Grand Total Approx Global Views: 1,871,734,736 </code></pre>
</div>
</div>
<p>Hours are global for the listed titles as the country TSV does not contain this information.</p>
<p><br></p>
<p>*Note, average runtime values are approximations. The sources below provide details highlighting program runtime across episodes and seasons.</p>
<p><em><a href="https://www.netflix.com/title/80035684?utm_source=chatgpt.com">Netflix’s Average Episode Runtime for Pablo Escobar: El Patrón del Mal</a></em></p>
<p><em><a href="https://en.wikipedia.org/wiki/Pasi%C3%B3n_de_Gavilanes?utm_source=chatgpt.com">Wikipedia’s Average Episode Runtime for Pasión de Gavilanes</a></em></p>
<p><em><a href="https://thetvdb.com/series/cafe-con-aroma-de-mujer-2021#general">tvdb’s Average Episode Runtime for Café con Aroma de Mujer</a></em></p>
<p><em><a href="https://www.imdb.com/title/tt0233127/?utm_source=chatgpt.com">IMDB’s Average Episode Runtime for Yo Soy Betty, La Fea</a></em></p>
<p><br></p>
<div class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Config: runtime assumption for Elite (TVMaze avg ~50 min) ---</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>elite_runtime <span class="ot">&lt;-</span> <span class="dv">50</span><span class="sc">/</span><span class="dv">60</span>  <span class="co"># hours</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Spanish-speaking LATAM (exclude Brazil) ---</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>latam_spanish <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Argentina"</span>,<span class="st">"Bolivia"</span>,<span class="st">"Chile"</span>,<span class="st">"Colombia"</span>,<span class="st">"Costa Rica"</span>,<span class="st">"Dominican Republic"</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Ecuador"</span>,<span class="st">"El Salvador"</span>,<span class="st">"Guatemala"</span>,<span class="st">"Honduras"</span>,<span class="st">"Mexico"</span>,<span class="st">"Nicaragua"</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Panama"</span>,<span class="st">"Paraguay"</span>,<span class="st">"Peru"</span>,<span class="st">"Uruguay"</span>,<span class="st">"Venezuela"</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Count distinct LATAM countries where Elite charted (from COUNTRY_TOP_10) ---</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>elite_latam_country_count <span class="ot">&lt;-</span> COUNTRY_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">show_title =</span> <span class="fu">coalesce</span>(show_title, <span class="st">""</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(show_title <span class="sc">==</span> <span class="st">"Elite"</span>, country_name <span class="sc">%in%</span> latam_spanish) <span class="sc">%&gt;%</span></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_countries =</span> <span class="fu">n_distinct</span>(country_name), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(n_countries) <span class="sc">%&gt;%</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>  { <span class="cf">if</span> (<span class="fu">length</span>(.) <span class="sc">==</span> <span class="dv">0</span> <span class="sc">||</span> <span class="fu">is.na</span>(.)) <span class="dv">0</span> <span class="cf">else</span> . }  <span class="co"># safety if no rows</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Global totals + runtime-adjusted views (from GLOBAL_TOP_10) ---</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>elite_total <span class="ot">&lt;-</span> GLOBAL_TOP_10 <span class="sc">%&gt;%</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">show_title =</span> <span class="fu">coalesce</span>(show_title, <span class="st">""</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(show_title <span class="sc">==</span> <span class="st">"Elite"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Weekly Hours Viewed</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(weekly_hours_viewed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">Category                          =</span> <span class="st">"TV (Non-English)"</span>,</span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Show Title</span><span class="st">`</span>                      <span class="ot">=</span> <span class="st">"Elite"</span>,</span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Season Title</span><span class="st">`</span>                    <span class="ot">=</span> <span class="st">"All Seasons (8)"</span>,</span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Avg Runtime (hrs)</span><span class="st">`</span>               <span class="ot">=</span> elite_runtime,</span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Approx Global Views</span><span class="st">`</span>             <span class="ot">=</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">Total Weekly Hours Viewed</span><span class="st">`</span> <span class="sc">/</span> elite_runtime),</span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Number of LATAM Countries Reached</span><span class="st">`</span> <span class="ot">=</span> elite_latam_country_count,</span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Weekly Hours Viewed</span><span class="st">`</span>       <span class="ot">=</span> <span class="fu">comma</span>(<span class="st">`</span><span class="at">Total Weekly Hours Viewed</span><span class="st">`</span>),</span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Approx Global Views</span><span class="st">`</span>             <span class="ot">=</span> <span class="fu">comma</span>(<span class="st">`</span><span class="at">Approx Global Views</span><span class="st">`</span>)</span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb53-38"><a href="#cb53-38" aria-hidden="true" tabindex="-1"></a>    Category, <span class="st">`</span><span class="at">Show Title</span><span class="st">`</span>, <span class="st">`</span><span class="at">Season Title</span><span class="st">`</span>,</span>
<span id="cb53-39"><a href="#cb53-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Total Weekly Hours Viewed</span><span class="st">`</span>, <span class="st">`</span><span class="at">Avg Runtime (hrs)</span><span class="st">`</span>, <span class="st">`</span><span class="at">Approx Global Views</span><span class="st">`</span>,</span>
<span id="cb53-40"><a href="#cb53-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Number of LATAM Countries Reached</span><span class="st">`</span></span>
<span id="cb53-41"><a href="#cb53-41" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-42"><a href="#cb53-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-43"><a href="#cb53-43" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Render ---</span></span>
<span id="cb53-44"><a href="#cb53-44" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(</span>
<span id="cb53-45"><a href="#cb53-45" aria-hidden="true" tabindex="-1"></a>  elite_total,</span>
<span id="cb53-46"><a href="#cb53-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Global Hours &amp; Runtime-Adjusted Approximate Views (Cross-referenced from TSVs)"</span>,</span>
<span id="cb53-47"><a href="#cb53-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">options =</span> <span class="fu">list</span>(<span class="at">searching =</span> <span class="cn">FALSE</span>, <span class="at">paging =</span> <span class="cn">FALSE</span>, <span class="at">info =</span> <span class="cn">FALSE</span>),</span>
<span id="cb53-48"><a href="#cb53-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">rownames =</span> <span class="cn">FALSE</span></span>
<span id="cb53-49"><a href="#cb53-49" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb53-50"><a href="#cb53-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatRound</span>(<span class="st">"Avg Runtime (hrs)"</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-293da990c6a039746069" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-293da990c6a039746069">{"x":{"filter":"none","vertical":false,"caption":"<caption>Global Hours &amp; Runtime-Adjusted Approximate Views (Cross-referenced from TSVs)<\/caption>","data":[["TV (Non-English)"],["Elite"],["All Seasons (8)"],["567,770,000"],[0.8333333333333334],["681,324,000"],[17]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Category<\/th>\n      <th>Show Title<\/th>\n      <th>Season Title<\/th>\n      <th>Total Weekly Hours Viewed<\/th>\n      <th>Avg Runtime (hrs)<\/th>\n      <th>Approx Global Views<\/th>\n      <th>Number of LATAM Countries Reached<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"paging":false,"info":false,"columnDefs":[{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[4,6]},{"name":"Category","targets":0},{"name":"Show Title","targets":1},{"name":"Season Title","targets":2},{"name":"Total Weekly Hours Viewed","targets":3},{"name":"Avg Runtime (hrs)","targets":4},{"name":"Approx Global Views","targets":5},{"name":"Number of LATAM Countries Reached","targets":6}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render"],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p><em><a href="https://www.tvmaze.com/shows/37854/elite?utm_source=chatgpt.com">TVMaze’s Average Episode Runtime for Elite</a></em></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/eduardonyc\.github\.io\/STA9750-2025-FALL\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>